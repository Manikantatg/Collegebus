var io=Object.defineProperty;var oo=(e,t,s)=>t in e?io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Le=(e,t,s)=>oo(e,typeof t!="symbol"?t+"":t,s);import{r as p,a as lo,u as Te,b as co,N as Ie,B as uo,R as mo,c as ue}from"./vendor-s57ZsRKz.js";import{i as ho,a as fo,p as po,b as go,g as xo,G as yo,o as vo,c as bo,d as rs,e as wo,s as as,f as jo,h as To,j as ko,k as So}from"./firebase-D2XeHE7-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();var aa={exports:{}},Yt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=p,Co=Symbol.for("react.element"),Mo=Symbol.for("react.fragment"),Ao=Object.prototype.hasOwnProperty,Po=No.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Do={key:!0,ref:!0,__self:!0,__source:!0};function ia(e,t,s){var n,r={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Ao.call(t,n)&&!Do.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)r[n]===void 0&&(r[n]=t[n]);return{$$typeof:Co,type:e,key:o,ref:i,props:r,_owner:Po.current}}Yt.Fragment=Mo;Yt.jsx=ia;Yt.jsxs=ia;aa.exports=Yt;var a=aa.exports,oa,En=lo;oa=En.createRoot,En.hydrateRoot;let Eo={data:""},Vo=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Eo,Ro=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Lo=/\/\*[^]*?\*\/|  +/g,Vn=/\n+/g,ve=(e,t)=>{let s="",n="",r="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?s=o+" "+i+";":n+=o[1]=="f"?ve(i,o):o+"{"+ve(i,o[1]=="k"?"":t)+"}":typeof i=="object"?n+=ve(i,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=ve.p?ve.p(o,i):o+":"+i+";")}return s+(t&&r?t+"{"+r+"}":r)+n},me={},la=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+la(e[s]);return t}return e},Io=(e,t,s,n,r)=>{let o=la(e),i=me[o]||(me[o]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(o));if(!me[i]){let c=o!==e?e:(d=>{let u,m,h=[{}];for(;u=Ro.exec(d.replace(Lo,""));)u[4]?h.shift():u[3]?(m=u[3].replace(Vn," ").trim(),h.unshift(h[0][m]=h[0][m]||{})):h[0][u[1]]=u[2].replace(Vn," ").trim();return h[0]})(e);me[i]=ve(r?{["@keyframes "+i]:c}:c,s?"":"."+i)}let l=s&&me.g?me.g:null;return s&&(me.g=me[i]),((c,d,u,m)=>{m?d.data=d.data.replace(m,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(me[i],t,n,l),i},Bo=(e,t,s)=>e.reduce((n,r,o)=>{let i=t[o];if(i&&i.call){let l=i(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":ve(l,""):l===!1?"":l}return n+r+(i??"")},"");function qt(e){let t=this||{},s=e.call?e(t.p):e;return Io(s.unshift?s.raw?Bo(s,[].slice.call(arguments,1),t.p):s.reduce((n,r)=>Object.assign(n,r&&r.call?r(t.p):r),{}):s,Vo(t.target),t.g,t.o,t.k)}let ca,Ns,Cs;qt.bind({g:1});let pe=qt.bind({k:1});function Oo(e,t,s,n){ve.p=t,ca=e,Ns=s,Cs=n}function ke(e,t){let s=this||{};return function(){let n=arguments;function r(o,i){let l=Object.assign({},o),c=l.className||r.className;s.p=Object.assign({theme:Ns&&Ns()},l),s.o=/ *go\d+/.test(c),l.className=qt.apply(s,n)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),Cs&&d[0]&&Cs(l),ca(d,l)}return r}}var Fo=e=>typeof e=="function",Rt=(e,t)=>Fo(e)?e(t):e,Uo=(()=>{let e=0;return()=>(++e).toString()})(),da=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),zo=20,Gs="default",ua=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return ua(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},Pt=[],ma={toasts:[],pausedAt:void 0,settings:{toastLimit:zo}},le={},ha=(e,t=Gs)=>{le[t]=ua(le[t]||ma,e),Pt.forEach(([s,n])=>{s===t&&n(le[t])})},fa=e=>Object.keys(le).forEach(t=>ha(e,t)),Wo=e=>Object.keys(le).find(t=>le[t].toasts.some(s=>s.id===e)),Kt=(e=Gs)=>t=>{ha(t,e)},_o={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$o=(e={},t=Gs)=>{let[s,n]=p.useState(le[t]||ma),r=p.useRef(le[t]);p.useEffect(()=>(r.current!==le[t]&&n(le[t]),Pt.push([t,n]),()=>{let i=Pt.findIndex(([l])=>l===t);i>-1&&Pt.splice(i,1)}),[t]);let o=s.toasts.map(i=>{var l,c,d;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||_o[i.type],style:{...e.style,...(d=e[i.type])==null?void 0:d.style,...i.style}}});return{...s,toasts:o}},Ho=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||Uo()}),ft=e=>(t,s)=>{let n=Ho(t,e,s);return Kt(n.toasterId||Wo(n.id))({type:2,toast:n}),n.id},V=(e,t)=>ft("blank")(e,t);V.error=ft("error");V.success=ft("success");V.loading=ft("loading");V.custom=ft("custom");V.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Kt(t)(s):fa(s)};V.dismissAll=e=>V.dismiss(void 0,e);V.remove=(e,t)=>{let s={type:4,toastId:e};t?Kt(t)(s):fa(s)};V.removeAll=e=>V.remove(void 0,e);V.promise=(e,t,s)=>{let n=V.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(r=>{let o=t.success?Rt(t.success,r):void 0;return o?V.success(o,{id:n,...s,...s==null?void 0:s.success}):V.dismiss(n),r}).catch(r=>{let o=t.error?Rt(t.error,r):void 0;o?V.error(o,{id:n,...s,...s==null?void 0:s.error}):V.dismiss(n)}),e};var Yo=1e3,qo=(e,t="default")=>{let{toasts:s,pausedAt:n}=$o(e,t),r=p.useRef(new Map).current,o=p.useCallback((m,h=Yo)=>{if(r.has(m))return;let f=setTimeout(()=>{r.delete(m),i({type:4,toastId:m})},h);r.set(m,f)},[]);p.useEffect(()=>{if(n)return;let m=Date.now(),h=s.map(f=>{if(f.duration===1/0)return;let x=(f.duration||0)+f.pauseDuration-(m-f.createdAt);if(x<0){f.visible&&V.dismiss(f.id);return}return setTimeout(()=>V.dismiss(f.id,t),x)});return()=>{h.forEach(f=>f&&clearTimeout(f))}},[s,n,t]);let i=p.useCallback(Kt(t),[t]),l=p.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=p.useCallback((m,h)=>{i({type:1,toast:{id:m,height:h}})},[i]),d=p.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),u=p.useCallback((m,h)=>{let{reverseOrder:f=!1,gutter:x=8,defaultPosition:y}=h||{},v=s.filter(g=>(g.position||y)===(m.position||y)&&g.height),b=v.findIndex(g=>g.id===m.id),j=v.filter((g,T)=>T<b&&g.visible).length;return v.filter(g=>g.visible).slice(...f?[j+1]:[0,j]).reduce((g,T)=>g+(T.height||0)+x,0)},[s]);return p.useEffect(()=>{s.forEach(m=>{if(m.dismissed)o(m.id,m.removeDelay);else{let h=r.get(m.id);h&&(clearTimeout(h),r.delete(m.id))}})},[s,o]),{toasts:s,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},Ko=pe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Go=pe`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xo=pe`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Qo=ke("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ko} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Go} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Xo} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Zo=pe`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Jo=ke("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Zo} 1s linear infinite;
`,el=pe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,tl=pe`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,sl=ke("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${el} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${tl} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nl=ke("div")`
  position: absolute;
`,rl=ke("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,al=pe`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,il=ke("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${al} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ol=({toast:e})=>{let{icon:t,type:s,iconTheme:n}=e;return t!==void 0?typeof t=="string"?p.createElement(il,null,t):t:s==="blank"?null:p.createElement(rl,null,p.createElement(Jo,{...n}),s!=="loading"&&p.createElement(nl,null,s==="error"?p.createElement(Qo,{...n}):p.createElement(sl,{...n})))},ll=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,cl=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,dl="0%{opacity:0;} 100%{opacity:1;}",ul="0%{opacity:1;} 100%{opacity:0;}",ml=ke("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,hl=ke("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fl=(e,t)=>{let s=e.includes("top")?1:-1,[n,r]=da()?[dl,ul]:[ll(s),cl(s)];return{animation:t?`${pe(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${pe(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},pl=p.memo(({toast:e,position:t,style:s,children:n})=>{let r=e.height?fl(e.position||t||"top-center",e.visible):{opacity:0},o=p.createElement(ol,{toast:e}),i=p.createElement(hl,{...e.ariaProps},Rt(e.message,e));return p.createElement(ml,{className:e.className,style:{...r,...s,...e.style}},typeof n=="function"?n({icon:o,message:i}):p.createElement(p.Fragment,null,o,i))});Oo(p.createElement);var gl=({id:e,className:t,style:s,onHeightUpdate:n,children:r})=>{let o=p.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return p.createElement("div",{ref:o,className:t,style:s},r)},xl=(e,t)=>{let s=e.includes("top"),n=s?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:da()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...n,...r}},yl=qt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Tt=16,vl=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:n,children:r,toasterId:o,containerStyle:i,containerClassName:l})=>{let{toasts:c,handlers:d}=qo(s,o);return p.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Tt,left:Tt,right:Tt,bottom:Tt,pointerEvents:"none",...i},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let m=u.position||t,h=d.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),f=xl(m,h);return p.createElement(gl,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?yl:"",style:f},u.type==="custom"?Rt(u.message,u):r?r(u):p.createElement(pl,{toast:u,position:m}))}))};const bl={apiKey:"AIzaSyCGvaYH_zL-vefP4Bm83MdDn9DXAlCDiGk",authDomain:"bus-tracking-7706d.firebaseapp.com",projectId:"bus-tracking-7706d",storageBucket:"bus-tracking-7706d.firebasestorage.app",messagingSenderId:"217343122092",appId:"1:217343122092:web:15338fb293406602689d09"};let kt=null,ie=null,ne=null,Lt=null;try{kt=ho(bl),ie=fo(kt,{localCache:po({tabManager:go()}),ignoreUndefinedProperties:!0}),ne=xo(kt),Lt=new yo,ne&&(ne.settings.appVerificationDisabledForTesting=!1)}catch(e){console.error("Firebase initialization error:",e),kt=null,ie=null,ne=null,Lt=null}const Rn={1:[{name:"BPSC (Halting)",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸŒ³ Kakarla Thota",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸš§ Guggarati Railway Gate",scheduledTime:"7:33 AM",completed:!1},{name:"ðŸª APMC Main Gate",scheduledTime:"7:36 AM",completed:!1},{name:"ðŸ•‰ï¸ Benki Maremma Temple",scheduledTime:"7:40 AM",completed:!1},{name:"ðŸ‘® Bruce Pet Police Station",scheduledTime:"7:42 AM",completed:!1},{name:"ðŸ’Ž Kalyan Jewellers",scheduledTime:"7:45 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],2:[{name:"BBC (Halting)",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ¥› KMF Dairy",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ« Ambedkar School",scheduledTime:"7:31 AM",completed:!1},{name:"ðŸ”„ Indira Nagar Circle",scheduledTime:"7:32 AM",completed:!1},{name:"â›ª Shrine Church",scheduledTime:"7:25 AM",completed:!1},{name:"ðŸ”„ Vidya Nagar Circle",scheduledTime:"7:27 AM",completed:!1},{name:"ðŸ° Raaga Fort",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ˜ï¸ Shanthi Nagar",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸ•‰ï¸ Kolagal Yeriswamy Temple",scheduledTime:"7:40 AM",completed:!1},{name:"ðŸ˜ï¸ Yarrangali",scheduledTime:"7:43 AM",completed:!1},{name:"ðŸ˜ï¸ Siddamanahalli",scheduledTime:"7:46 AM",completed:!1},{name:"ðŸ˜ï¸ Badnahatti",scheduledTime:"7:50 AM",completed:!1},{name:"ðŸ˜ï¸ Kurugodu",scheduledTime:"7:53 AM",completed:!1},{name:"âœï¸ Vaddatti Cross",scheduledTime:"7:56 AM",completed:!1},{name:"ðŸŒŠ Madire Cross",scheduledTime:"7:58 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],3:[{name:"BITM (Halting)",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸž Yerithata Bakery",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ˜ï¸ Vijayanagar Colony",scheduledTime:"7:32 AM",completed:!1},{name:"ðŸ•‰ï¸ Radio Park",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],4:[{name:"BITM (Halting)",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ˜ï¸ Allipur",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ­ Daardmill",scheduledTime:"7:32 AM",completed:!1},{name:"ðŸ¡ Kuvempu Nagar 5th Cross",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸ¡ Kuvempu Nagar 3rd Cross",scheduledTime:"7:37 AM",completed:!1},{name:"ðŸ¢ G Square",scheduledTime:"7:40 AM",completed:!1},{name:"ðŸ‘® Cowl Bazar Police Station",scheduledTime:"7:42 AM",completed:!1},{name:"ðŸ° Fort Entrance",scheduledTime:"7:47 AM",completed:!1},{name:"ðŸ½ï¸ Putti Hotel",scheduledTime:"7:48 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],5:[{name:"Shankar Town",scheduledTime:"7:10 AM",completed:!1},{name:"ðŸ”„ Old Gate Circle",scheduledTime:"7:12 AM",completed:!1},{name:"ðŸš‚ Railway Station",scheduledTime:"7:14 AM",completed:!1},{name:"ðŸ›ï¸ Vishal Mart",scheduledTime:"7:16 AM",completed:!1},{name:"ðŸ›ï¸ Grama Panchayat Office",scheduledTime:"7:18 AM",completed:!1},{name:"ðŸ›£ï¸ Toranagallu Bye Pass",scheduledTime:"7:20 AM",completed:!1},{name:"ðŸšŒ Kudthini Bus Stand",scheduledTime:"7:28 AM",completed:!1},{name:"ðŸ›£ï¸ Veniveenapura Bye Pass",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],6:[{name:"Vaishnavi Hotel (Halting)",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸ”„ Gandhi Circle",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸ•‰ï¸ Abhayanjaneya Temple",scheduledTime:"7:37 AM",completed:!1},{name:"ðŸ›ï¸ Reliance Trends",scheduledTime:"7:39 AM",completed:!1},{name:"ðŸª APMC",scheduledTime:"7:41 AM",completed:!1},{name:"ðŸšŒ Bus Depot",scheduledTime:"7:43 AM",completed:!1},{name:"ðŸ¨ Vaishanavi Hotel",scheduledTime:"7:48 AM",completed:!1},{name:"ðŸ˜ï¸ Halekote",scheduledTime:"8:00 AM",completed:!1},{name:"ðŸ˜ï¸ Tekkalakote",scheduledTime:"8:10 AM",completed:!1},{name:"âœï¸ Byrapura Cross",scheduledTime:"8:20 AM",completed:!1},{name:"âœï¸ Sirigeri Cross",scheduledTime:"8:30 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:35 AM",completed:!1}],7:[{name:"BBC (Halting)",scheduledTime:"7:15 AM",completed:!1},{name:"ðŸ˜ï¸ Kapagal",scheduledTime:"7:15 AM",completed:!1},{name:"ðŸ˜ï¸ Siriwara",scheduledTime:"7:20 AM",completed:!1},{name:"ðŸ˜ï¸ Sangankal",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ˜ï¸ Vajpayee Layout Main Gate",scheduledTime:"7:35 AM",completed:!1},{name:"âš¡ KEB Circle",scheduledTime:"7:37 AM",completed:!1},{name:"ðŸ’§ Water Booster",scheduledTime:"7:40 AM",completed:!1},{name:"ðŸ›ï¸ MLA Office",scheduledTime:"7:43 AM",completed:!1},{name:"ðŸª Gandhi Nagar Market",scheduledTime:"7:45 AM",completed:!1},{name:"ðŸ¥ Sukrutha Nursing Home",scheduledTime:"7:47 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],8:[{name:"BITM (Halting)",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸŒŠ Bandihatti Canal",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ˜ï¸ Bandihatti (Satyanarayana Temple)",scheduledTime:"7:33 AM",completed:!1},{name:"ðŸ« Kendriya Vidhyalaya",scheduledTime:"7:42 AM",completed:!1},{name:"ðŸ•Œ Pinchanwadi Masjid",scheduledTime:"7:45 AM",completed:!1},{name:"ðŸ•Œ Kunitan Masjid",scheduledTime:"7:48 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],9:[{name:"BITM (Halting)",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ•‰ï¸ Sai Baba Temple Cross",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸš¦ Belagal Cross",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸŽ¦ Select Talkies",scheduledTime:"7:40 AM",completed:!1},{name:"ðŸ« Mohammadia School",scheduledTime:"7:42 AM",completed:!1},{name:"ðŸ”„ SP Circle",scheduledTime:"7:45 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],10:[{name:"BPSC (Halting)",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ’§ Water Tank Circle",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ˜ï¸ Raghavendra Colony (Sana Durgamma Temple)",scheduledTime:"7:32 AM",completed:!1},{name:"ðŸ¦ Patel Nagar SBI Bank",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸ•‰ï¸ Raghavendra Swamy Temple",scheduledTime:"7:37 AM",completed:!1},{name:"ðŸ¦ Cool Corner",scheduledTime:"7:40 AM",completed:!1},{name:"ðŸª Basaveshwara Nagar Market",scheduledTime:"7:42 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],11:[{name:"BBC (Halting)",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸ˜ï¸ JK Layout",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸ« Bala Bharathi School",scheduledTime:"7:37 AM",completed:!1},{name:"ðŸ˜ï¸ Sneha Colony",scheduledTime:"7:38 AM",completed:!1},{name:"ðŸ›ï¸ Govindappa Kalyana Mantapa",scheduledTime:"7:40 AM",completed:!1},{name:"ðŸ¨ Reddy Hotel",scheduledTime:"7:42 AM",completed:!1},{name:"ðŸŒŠ Canal",scheduledTime:"7:45 AM",completed:!1},{name:"ðŸ« Shantiniketan School",scheduledTime:"7:47 AM",completed:!1},{name:"ðŸ¢ Gymkhana",scheduledTime:"7:50 AM",completed:!1},{name:"ðŸ›ï¸ Old BJP Office",scheduledTime:"7:52 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],12:[{name:"RR Blocks (Halting)",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],13:[{name:"BBC (Halting)",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸ•‰ï¸ Brahmendra Temple",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸ˜ï¸ SMV 5th Cross",scheduledTime:"7:37 AM",completed:!1},{name:"ðŸ˜ï¸ Kapagal Road 1st Cross",scheduledTime:"7:39 AM",completed:!1},{name:"ðŸ¥ Bharath Nursing Home",scheduledTime:"7:41 AM",completed:!1},{name:"ðŸ›ï¸ Vishal Market",scheduledTime:"7:43 AM",completed:!1},{name:"ðŸ¦ SBI Bank",scheduledTime:"7:45 AM",completed:!1},{name:"ðŸ•‰ï¸ Durgamma Gudi",scheduledTime:"7:47 AM",completed:!1},{name:"ðŸ“º Sony Showroom",scheduledTime:"7:49 AM",completed:!1},{name:"ðŸšŒ KSRTC Bus Depot",scheduledTime:"7:52 AM",completed:!1},{name:"ðŸ›ï¸ Sriramulu Office",scheduledTime:"7:54 AM",completed:!1},{name:"ðŸ¥ Ballari Health City",scheduledTime:"7:56 AM",completed:!1},{name:"ðŸ« Chaitanya Girls College",scheduledTime:"7:58 AM",completed:!1},{name:"ðŸŒŠ Havambhavi Canal",scheduledTime:"8:00 AM",completed:!1},{name:"ðŸ›ï¸ Classic Function Hall",scheduledTime:"8:02 AM",completed:!1},{name:"ðŸ« Vijayawadaâ€“Chaitanya College",scheduledTime:"8:04 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],14:[{name:"BPSC (Halting)",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ˜ï¸ Raghavendra Colony 2nd Stage",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ’Š Medplus",scheduledTime:"7:32 AM",completed:!1},{name:"ðŸ¥ Tarnath Hospital",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸ« BPSC School",scheduledTime:"7:37 AM",completed:!1},{name:"ðŸŽ¦ RR Theatre",scheduledTime:"7:40 AM",completed:!1},{name:"ðŸ”„ MG Circle",scheduledTime:"7:42 AM",completed:!1},{name:"ðŸ¨ Pawan Hotel",scheduledTime:"7:45 AM",completed:!1},{name:"ðŸ”„ Royal Circle",scheduledTime:"7:47 AM",completed:!1},{name:"ðŸšŒ Old Bus Stand",scheduledTime:"7:50 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],15:[{name:"BPSC (Halting)",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸ˜ï¸ Andral",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸ”„ Bapuji Nagar Circle",scheduledTime:"7:38 AM",completed:!1},{name:"ðŸšŒ Kanekal Bus Stand",scheduledTime:"7:46 AM",completed:!1},{name:"ðŸ˜ï¸ Miller Pet",scheduledTime:"7:48 AM",completed:!1},{name:"ðŸ­ Gangappa Gin",scheduledTime:"7:50 AM",completed:!1},{name:"ðŸ”„ Sangam Circle",scheduledTime:"7:52 AM",completed:!1},{name:"ðŸ”„ Royal Circle",scheduledTime:"7:53 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],"15 (BITM Variant)":[{name:"BPSC (Halting - BITM Route)",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸ’Š Shardha Medical Store",scheduledTime:"7:30 AM",completed:!1},{name:"ðŸŽ¦ Raghavendra Theatre",scheduledTime:"7:32 AM",completed:!1},{name:"ðŸ”„ Mothi Circle",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸš‚ 2nd Railway Gate",scheduledTime:"7:38 AM",completed:!1},{name:"âœï¸ Sudha Cross",scheduledTime:"7:40 AM",completed:!1},{name:"ðŸ« Vasavi School",scheduledTime:"7:42 AM",completed:!1},{name:"ðŸ•‰ï¸ Kumaraswamy Temple",scheduledTime:"7:44 AM",completed:!1},{name:"ðŸ‘®â€â™€ï¸ Women's Police Station",scheduledTime:"7:47 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],16:[{name:"RR Block (Halting)",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}],20:[{name:"RR Block (Halting)",scheduledTime:"7:35 AM",completed:!1},{name:"ðŸŽ“ Mount View Campus",scheduledTime:"8:50 AM",completed:!1}]},pa=[{email:"mohan@ku.com",name:"A Mohan",phone:"6363329681",bus:1,password:"driver123"},{email:"durgesh@ku.com",name:"Durgesh",phone:"9611886354",bus:2,password:"driver123"},{email:"dhananjaya@ku.com",name:"Dhananjaya",phone:"8971126789",bus:3,password:"driver123"},{email:"hussain@ku.com",name:"Hussain Basha",phone:"9482999973",bus:4,password:"driver123"},{email:"ramakrishna@ku.com",name:"Rama Krishna",phone:"9880352447",bus:5,password:"driver123"},{email:"uttaresh@ku.com",name:"Uttaresh",phone:"9945535076",bus:6,password:"driver123"},{email:"khadar@ku.com",name:"Khadar Basha",phone:"9980858196",bus:7,password:"driver123"},{email:"thippu@ku.com",name:"Thippu Sulthan",phone:"9480951544",bus:8,password:"driver123"},{email:"suman@ku.com",name:"Suman H",phone:"7899782975",bus:9,password:"driver123"},{email:"shankarappa.h@ku.com",name:"Shankarappa H",phone:"9901419933",bus:10,password:"driver123"},{email:"gadhilinga@ku.com",name:"Gadhilinga",phone:"8296180661",bus:11,password:"driver123"},{email:"sureshbabu@ku.com",name:"Suresh Babu",phone:"7019228638",bus:12,password:"driver123"},{email:"shankarappa.r@ku.com",name:"Shankarappa R",phone:"9743798551",bus:13,password:"driver123"},{email:"rajesh@ku.com",name:"Rajesh",phone:"9980807675",bus:14,password:"driver123"},{email:"pampapathi@ku.com",name:"Pampapathi",phone:"7338023244",bus:15,password:"driver123"},{email:"mallikarjuna@ku.com",name:"Mallikarjuna",phone:"9740654774",bus:"15 (BITM Variant)",password:"driver123"},{email:"govinda@ku.com",name:"Govinda",phone:"9900338432",bus:16,password:"driver123"},{email:"lingamurthy@ku.com",name:"Linga Murthy",phone:"9110416165",bus:20,password:"driver123"}],Ms={email:"admin@bustrack.com",password:"admin123"},Je={email:"security@ku.com",password:"1234567890"};function As(e){return e.toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"2-digit"})}const Pe=class Pe{constructor(){Le(this,"lastUpdate",0);Le(this,"updateQueue",[]);Le(this,"isProcessing",!1);Le(this,"MIN_UPDATE_INTERVAL",100)}static getInstance(){return Pe.instance||(Pe.instance=new Pe),Pe.instance}async queueUpdate(t){return new Promise((s,n)=>{this.updateQueue.push(async()=>{try{const r=await t();s(r)}catch(r){n(r)}}),this.isProcessing||this.processQueue()})}async processQueue(){if(this.updateQueue.length===0){this.isProcessing=!1;return}this.isProcessing=!0;const s=Date.now()-this.lastUpdate;if(s<this.MIN_UPDATE_INTERVAL){const r=this.MIN_UPDATE_INTERVAL-s;await new Promise(o=>setTimeout(o,r))}const n=this.updateQueue.shift();if(n)try{await n(),this.lastUpdate=Date.now()}catch(r){console.error("Error processing queued update:",r)}this.processQueue()}clearQueue(){this.updateQueue=[],this.isProcessing=!1}canProcessImmediately(){return Date.now()-this.lastUpdate>=this.MIN_UPDATE_INTERVAL}};Le(Pe,"instance");let Ps=Pe;const is=Ps.getInstance(),ga=p.createContext(void 0),Ye=()=>{const e=p.useContext(ga);if(!e)throw new Error("useBus must be used within a BusProvider");return e},wl=({children:e})=>{const[t,s]=p.useState({}),[n,r]=p.useState(null),[o,i]=p.useState(!0),[l,c]=p.useState(!1),[d,u]=p.useState(null),m=p.useRef(null),h=p.useRef(null),f=p.useRef(0),x=p.useRef(!1),y=p.useRef(null),v=p.useRef(new Set);p.useRef(new Set);const b=p.useRef([]),j=p.useRef(null);p.useRef(0);const g=A=>typeof A=="string"?A==="15 (BITM Variant)"?17:parseInt(A):A;p.useEffect(()=>((()=>{try{const k={};Object.keys(Rn).forEach(S=>{let E,C=S;if(isNaN(parseInt(S)))if(S==="15 (BITM Variant)")E=17,C="15 (BITM Variant)";else return;else E=parseInt(S),C=E;const I=Rn[C],R=pa.find(Y=>Y.bus===C),H=Math.floor(Math.random()*51);k[E]={id:E,currentStopIndex:0,eta:null,route:I.map(Y=>({...Y,completed:!1})),etaRequests:[],notifications:[],totalDistance:0,routeCompleted:!1,studentCount:H,atStop:!1}}),s(k),i(!1)}catch(k){console.error("Error initializing buses:",k),u("Failed to initialize bus data"),i(!1)}})(),()=>{m.current&&m.current(),h.current&&clearTimeout(h.current),j.current&&clearTimeout(j.current),b.current=[]}),[]),p.useEffect(()=>{if(o||!ie||Object.keys(t).length===0)return;m.current&&(m.current(),m.current=null),y.current&&(clearInterval(y.current),y.current=null);const A=()=>{try{const k=vo(bo(ie,"busStates"),{includeMetadataChanges:!1},S=>{try{let E=!1;const C={};S.forEach(I=>{const R=I.data(),H=typeof R.id=="string"?g(R.id):R.id,Y=t[H];if(Y&&(Y.currentStopIndex!==R.currentStopIndex||Y.eta!==R.eta||Y.routeCompleted!==R.routeCompleted||Y.studentCount!==R.studentCount)){const jt={currentStopIndex:R.currentStopIndex,eta:R.eta,route:Y.route.map((ro,ao)=>({...ro,completed:ao<R.currentStopIndex})),routeCompleted:R.routeCompleted||!1,studentCount:R.studentCount||Y.studentCount};C[H]=jt,E=!0}}),E&&(s(I=>{const R={...I};return Object.keys(C).forEach(H=>{const Y=parseInt(H),jt=C[Y];R[Y]&&jt&&(R[Y]={...R[Y],...jt})}),R}),l||(c(!0),u(null)))}catch(E){console.error("Error processing bus state snapshot:",E),u("Error processing real-time updates")}},S=>{console.error("Firebase listener error:",S),c(!1),u("Failed to connect to real-time updates"),h.current&&clearTimeout(h.current);const E=Math.min(1e3*Math.pow(2,f.current),3e4);f.current++,h.current=setTimeout(()=>{A()},E)});m.current=k,y.current=setInterval(()=>{l||A()},3e4),f.current=0}catch(k){console.error("Error setting up Firebase listener:",k),c(!1),u("Failed to initialize real-time updates")}};return A(),()=>{m.current&&(m.current(),m.current=null),h.current&&clearTimeout(h.current),y.current&&clearInterval(y.current)}},[t,l,o]),p.useEffect(()=>{if(!ie||Object.keys(t).length===0||x.current||o)return;const A=async()=>{try{const S=Object.values(t).map(async E=>{if(!v.current.has(E.id)){const C=rs(ie,"busStates",E.id.toString());if(!(await wo(C)).exists()){const R={id:E.id,currentStopIndex:E.currentStopIndex,eta:E.eta,routeCompleted:E.routeCompleted||!1,studentCount:E.studentCount,lastUpdated:new Date().toISOString()};await as(C,R,{merge:!0})}v.current.add(E.id)}});await Promise.allSettled(S),c(!0),u(null),x.current=!0}catch(S){console.error("Error initializing bus states:",S),u(`Initialization Error: ${S.message||"Failed to initialize bus states"}`)}},k=setTimeout(()=>{A()},100);return()=>clearTimeout(k)},[t,ie,o]);const T=()=>As(new Date),w=async(A,k)=>{if(!ie){console.warn("Firebase not initialized");return}try{const S=g(A);if(is.canProcessImmediately()){const E=rs(ie,"busStates",S.toString()),C={id:A,lastUpdated:new Date().toISOString()};k.currentStopIndex!==void 0&&(C.currentStopIndex=k.currentStopIndex),k.eta!==void 0&&(C.eta=k.eta),k.routeCompleted!==void 0&&(C.routeCompleted=k.routeCompleted),k.studentCount!==void 0&&(C.studentCount=k.studentCount),Object.keys(C).length>2&&await as(E,C,{merge:!0}),u(null)}else await is.queueUpdate(async()=>{const E=rs(ie,"busStates",S.toString()),C={id:A,lastUpdated:new Date().toISOString()};return k.currentStopIndex!==void 0&&(C.currentStopIndex=k.currentStopIndex),k.eta!==void 0&&(C.eta=k.eta),k.routeCompleted!==void 0&&(C.routeCompleted=k.routeCompleted),k.studentCount!==void 0&&(C.studentCount=k.studentCount),Object.keys(C).length>2&&await as(E,C,{merge:!0}),!0});u(null)}catch(S){console.error(`Error updating bus state ${A}:`,S),u(`Update Error: ${S.message||"Failed to update bus state"}`),S.code==="permission-denied"?V.error("Permission denied. Please check your credentials."):S.code==="resource-exhausted"&&(V.error("Quota exceeded. Please wait before trying again."),is.clearQueue())}},P=async A=>{try{const k=g(A),S=t[k];if(!S||S.currentStopIndex>=S.route.length-1)return;const E=S.route[S.currentStopIndex],C=T();s(I=>{const R={...I};if(R[k]){const H=[...R[k].route];H[S.currentStopIndex]={...H[S.currentStopIndex],completed:!0,actualTime:C},R[k]={...R[k],currentStopIndex:S.currentStopIndex+1,eta:null,route:H,routeCompleted:S.currentStopIndex+1>=S.route.length}}return R}),await w(A,{id:A,currentStopIndex:S.currentStopIndex+1,eta:null,routeCompleted:S.currentStopIndex+1>=S.route.length}),V.success("Moved to next stop")}catch(k){console.error("Error moving to next stop:",k),u(`Navigation Error: ${k.message||"Failed to move to next stop"}`),V.error("Failed to update stop")}},B=async A=>{try{const k=g(A),S=t[k];if(!S||S.currentStopIndex<=0)return;const E=S.currentStopIndex-1,C=S.route[E],I=T();s(R=>{const H={...R};if(H[k]){const Y=[...H[k].route];Y[E]={...Y[E],completed:!1,actualTime:void 0},H[k]={...H[k],currentStopIndex:E,eta:null,route:Y,routeCompleted:!1}}return H}),await w(A,{id:A,currentStopIndex:E,eta:null,routeCompleted:!1}),V.success("Returned to previous stop")}catch(k){console.error("Error moving to previous stop:",k),u(`Navigation Error: ${k.message||"Failed to return to previous stop"}`),V.error("Failed to update stop")}},D=async(A,k)=>{try{const S=g(A);if(!t[S])return;s(C=>{const I={...C};return I[S]&&(I[S]={...I[S],eta:k}),I}),await w(A,{id:A,eta:k}),V.success("ETA set successfully")}catch(S){console.error("Error setting ETA:",S),u(`ETA Error: ${S.message||"Failed to set ETA"}`),V.error("Failed to set ETA")}},z=async(A,k)=>{try{const S=g(A);s(E=>{const C={...E};return C[S]&&(C[S]={...C[S],studentCount:Math.max(0,k)}),C}),await w(A,{id:A,studentCount:Math.max(0,k)}),V.success("Student count updated")}catch(S){console.error("Error updating student count:",S),V.error("Failed to update student count")}},G=async A=>{try{V.success("Stop request sent to driver")}catch(k){console.error("Error requesting stop:",k),u(`Request Error: ${k.message||"Failed to request stop"}`),V.error("Failed to request stop")}},W=async A=>{try{const k=g(A);s(S=>{const E={...S};if(E[k]){const C=E[k].route.map(I=>({...I,completed:!1,actualTime:void 0}));E[k]={...E[k],currentStopIndex:0,eta:null,route:C,etaRequests:[],notifications:[],routeCompleted:!1}}return E}),await w(A,{id:A,currentStopIndex:0,eta:null,routeCompleted:!1}),V.success("Route reset successfully")}catch(k){console.error("Error resetting bus progress:",k),u(`Reset Error: ${k.message||"Failed to reset route"}`),V.error("Failed to reset route")}},Z=async()=>{try{s(A=>{const k={...A};return Object.keys(k).forEach(S=>{const E=parseInt(S),C=k[E],I=[...C.route].reverse();k[E]={...C,currentStopIndex:0,route:I,routeCompleted:!1,atStop:!1}}),k}),V.success("All routes reversed")}catch(A){console.error("Error reversing routes:",A),u(`Reverse Error: ${A.message||"Failed to reverse routes"}`),V.error("Failed to reverse routes")}};return a.jsx(ga.Provider,{value:{buses:t,selectedBus:n,setSelectedBus:r,moveToNextStop:P,moveToPreviousStop:B,setEta:D,resetBusProgress:W,getFormattedTime:T,requestStop:G,reverseRoute:Z,updateStudentCount:z,loading:o,firebaseConnected:l,firebaseError:d},children:e})},os=e=>{if(!e)return"An unknown error occurred";switch(console.error("Firebase Error:",e),e.code){case"auth/invalid-email":return"Invalid email address";case"auth/user-disabled":return"This account has been disabled";case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/email-already-in-use":return"An account already exists with this email";case"auth/operation-not-allowed":return"This operation is not allowed";case"auth/weak-password":return"Password is too weak";case"auth/network-request-failed":return"Network error. Please check your connection";case"auth/too-many-requests":return"Too many requests. Please try again later";case"auth/internal-error":return"Internal error. Please try again";case"permission-denied":return"Permission denied. Please check your credentials";case"unavailable":return"Service temporarily unavailable. Please try again";case"deadline-exceeded":return"Request timeout. Please check your connection";case"resource-exhausted":return"Too many requests. Please wait before trying again";default:return e.message||"An error occurred during the operation"}},xa=p.createContext(void 0),pt=()=>{const e=p.useContext(xa);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},jl=({children:e})=>{const[t,s]=p.useState(null),[n,r]=p.useState(!0),[o,i]=p.useState(null);p.useEffect(()=>{if(!ne){console.error("Firebase auth is not initialized"),r(!1);return}return jo(ne,m=>{s(m),r(!1)})},[]);const l=async(u,m)=>{i(null);try{if(!ne)throw new Error("Firebase auth is not initialized");await To(ne,u,m)}catch(h){console.error("Login failed:",h);const f=os(h);throw i(f),new Error(f)}},c=async()=>{i(null);try{if(!ne||!Lt)throw new Error("Firebase auth or Google provider is not initialized");await ko(ne,Lt)}catch(u){console.error("Google login failed:",u);const m=os(u);throw i(m),new Error(m)}},d=async()=>{try{if(!ne)throw new Error("Firebase auth is not initialized");await So(ne)}catch(u){console.error("Logout failed:",u);const m=os(u);throw i(m),new Error(m)}};return a.jsx(xa.Provider,{value:{user:t,loading:n,login:l,loginWithGoogle:c,logout:d,authError:o},children:!n&&e})},Xs=p.createContext({});function Qs(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Gt=p.createContext(null),Zs=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Tl extends p.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function kl({children:e,isPresent:t}){const s=p.useId(),n=p.useRef(null),r=p.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=p.useContext(Zs);return p.useInsertionEffect(()=>{const{width:i,height:l,top:c,left:d}=r.current;if(t||!n.current||!i||!l)return;n.current.dataset.motionPopId=s;const u=document.createElement("style");return o&&(u.nonce=o),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),a.jsx(Tl,{isPresent:t,childRef:n,sizeRef:r,children:p.cloneElement(e,{ref:n})})}const Sl=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:r,presenceAffectsLayout:o,mode:i})=>{const l=Qs(Nl),c=p.useId(),d=p.useCallback(m=>{l.set(m,!0);for(const h of l.values())if(!h)return;n&&n()},[l,n]),u=p.useMemo(()=>({id:c,initial:t,isPresent:s,custom:r,onExitComplete:d,register:m=>(l.set(m,!1),()=>l.delete(m))}),o?[Math.random(),d]:[s,d]);return p.useMemo(()=>{l.forEach((m,h)=>l.set(h,!1))},[s]),p.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),i==="popLayout"&&(e=a.jsx(kl,{isPresent:s,children:e})),a.jsx(Gt.Provider,{value:u,children:e})};function Nl(){return new Map}function ya(e=!0){const t=p.useContext(Gt);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:r}=t,o=p.useId();p.useEffect(()=>{e&&r(o)},[e]);const i=p.useCallback(()=>e&&n&&n(o),[o,n,e]);return!s&&n?[!1,i]:[!0]}const St=e=>e.key||"";function Ln(e){const t=[];return p.Children.forEach(e,s=>{p.isValidElement(s)&&t.push(s)}),t}const Js=typeof window<"u",va=Js?p.useLayoutEffect:p.useEffect,en=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:o="sync",propagate:i=!1})=>{const[l,c]=ya(i),d=p.useMemo(()=>Ln(e),[e]),u=i&&!l?[]:d.map(St),m=p.useRef(!0),h=p.useRef(d),f=Qs(()=>new Map),[x,y]=p.useState(d),[v,b]=p.useState(d);va(()=>{m.current=!1,h.current=d;for(let T=0;T<v.length;T++){const w=St(v[T]);u.includes(w)?f.delete(w):f.get(w)!==!0&&f.set(w,!1)}},[v,u.length,u.join("-")]);const j=[];if(d!==x){let T=[...d];for(let w=0;w<v.length;w++){const P=v[w],B=St(P);u.includes(B)||(T.splice(w,0,P),j.push(P))}o==="wait"&&j.length&&(T=j),b(Ln(T)),y(d);return}const{forceRender:g}=p.useContext(Xs);return a.jsx(a.Fragment,{children:v.map(T=>{const w=St(T),P=i&&!l?!1:d===v||u.includes(w),B=()=>{if(f.has(w))f.set(w,!0);else return;let D=!0;f.forEach(z=>{z||(D=!1)}),D&&(g==null||g(),b(h.current),i&&(c==null||c()),n&&n())};return a.jsx(Sl,{isPresent:P,initial:!m.current||s?void 0:!1,custom:P?void 0:t,presenceAffectsLayout:r,mode:o,onExitComplete:P?void 0:B,children:T},w)})})},J=e=>e;let Ds=J;function tn(e){let t;return()=>(t===void 0&&(t=e()),t)}const _e=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},he=e=>e*1e3,fe=e=>e/1e3,Cl={skipAnimations:!1,useManualTiming:!1};function Ml(e){let t=new Set,s=new Set,n=!1,r=!1;const o=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),e()),d(i)}const c={schedule:(d,u=!1,m=!1)=>{const f=m&&n?t:s;return u&&o.add(d),f.has(d)||f.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(i=d,n){r=!0;return}n=!0,[t,s]=[s,t],t.forEach(l),t.clear(),n=!1,r&&(r=!1,c.process(d))}};return c}const Nt=["read","resolveKeyframes","update","preRender","render","postRender"],Al=40;function ba(e,t){let s=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,i=Nt.reduce((b,j)=>(b[j]=Ml(o),b),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:m,postRender:h}=i,f=()=>{const b=performance.now();s=!1,r.delta=n?1e3/60:Math.max(Math.min(b-r.timestamp,Al),1),r.timestamp=b,r.isProcessing=!0,l.process(r),c.process(r),d.process(r),u.process(r),m.process(r),h.process(r),r.isProcessing=!1,s&&t&&(n=!1,e(f))},x=()=>{s=!0,n=!0,r.isProcessing||e(f)};return{schedule:Nt.reduce((b,j)=>{const g=i[j];return b[j]=(T,w=!1,P=!1)=>(s||x(),g.schedule(T,w,P)),b},{}),cancel:b=>{for(let j=0;j<Nt.length;j++)i[Nt[j]].cancel(b)},state:r,steps:i}}const{schedule:O,cancel:be,state:K,steps:ls}=ba(typeof requestAnimationFrame<"u"?requestAnimationFrame:J,!0),wa=p.createContext({strict:!1}),In={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$e={};for(const e in In)$e[e]={isEnabled:t=>In[e].some(s=>!!t[s])};function Pl(e){for(const t in e)$e[t]={...$e[t],...e[t]}}const Dl=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function It(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Dl.has(e)}let ja=e=>!It(e);function El(e){e&&(ja=t=>t.startsWith("on")?!It(t):e(t))}try{El(require("@emotion/is-prop-valid").default)}catch{}function Vl(e,t,s){const n={};for(const r in e)r==="values"&&typeof e.values=="object"||(ja(r)||s===!0&&It(r)||!t&&!It(r)||e.draggable&&r.startsWith("onDrag"))&&(n[r]=e[r]);return n}function Rl(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...n)=>e(...n);return new Proxy(s,{get:(n,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Xt=p.createContext({});function ot(e){return typeof e=="string"||Array.isArray(e)}function Qt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const sn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nn=["initial",...sn];function Zt(e){return Qt(e.animate)||nn.some(t=>ot(e[t]))}function Ta(e){return!!(Zt(e)||e.variants)}function Ll(e,t){if(Zt(e)){const{initial:s,animate:n}=e;return{initial:s===!1||ot(s)?s:void 0,animate:ot(n)?n:void 0}}return e.inherit!==!1?t:{}}function Il(e){const{initial:t,animate:s}=Ll(e,p.useContext(Xt));return p.useMemo(()=>({initial:t,animate:s}),[Bn(t),Bn(s)])}function Bn(e){return Array.isArray(e)?e.join(" "):e}const Bl=Symbol.for("motionComponentSymbol");function Oe(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ol(e,t,s){return p.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Oe(s)&&(s.current=n))},[t])}const rn=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Fl="framerAppearId",ka="data-"+rn(Fl),{schedule:an,cancel:Xf}=ba(queueMicrotask,!1),Sa=p.createContext({});function Ul(e,t,s,n,r){var o,i;const{visualElement:l}=p.useContext(Xt),c=p.useContext(wa),d=p.useContext(Gt),u=p.useContext(Zs).reducedMotion,m=p.useRef(null);n=n||c.renderer,!m.current&&n&&(m.current=n(e,{visualState:t,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const h=m.current,f=p.useContext(Sa);h&&!h.projection&&r&&(h.type==="html"||h.type==="svg")&&zl(m.current,s,r,f);const x=p.useRef(!1);p.useInsertionEffect(()=>{h&&x.current&&h.update(s,d)});const y=s[ka],v=p.useRef(!!y&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,y))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,y)));return va(()=>{h&&(x.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),an.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),p.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,y)}),v.current=!1))}),h}function zl(e,t,s,n){const{layoutId:r,layout:o,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:Na(e.parent)),e.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!i||l&&Oe(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:d})}function Na(e){if(e)return e.options.allowProjection!==!1?e.projection:Na(e.parent)}function Wl({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:r}){var o,i;e&&Pl(e);function l(d,u){let m;const h={...p.useContext(Zs),...d,layoutId:_l(d)},{isStatic:f}=h,x=Il(d),y=n(d,f);if(!f&&Js){$l();const v=Hl(h);m=v.MeasureLayout,x.visualElement=Ul(r,y,h,t,v.ProjectionNode)}return a.jsxs(Xt.Provider,{value:x,children:[m&&x.visualElement?a.jsx(m,{visualElement:x.visualElement,...h}):null,s(r,d,Ol(y,x.visualElement,u),y,f,x.visualElement)]})}l.displayName=`motion.${typeof r=="string"?r:`create(${(i=(o=r.displayName)!==null&&o!==void 0?o:r.name)!==null&&i!==void 0?i:""})`}`;const c=p.forwardRef(l);return c[Bl]=r,c}function _l({layoutId:e}){const t=p.useContext(Xs).id;return t&&e!==void 0?t+"-"+e:e}function $l(e,t){p.useContext(wa).strict}function Hl(e){const{drag:t,layout:s}=$e;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Yl=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function on(e){return typeof e!="string"||e.includes("-")?!1:!!(Yl.indexOf(e)>-1||/[A-Z]/u.test(e))}function On(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function ln(e,t,s,n){if(typeof t=="function"){const[r,o]=On(n);t=t(s!==void 0?s:e.custom,r,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,o]=On(n);t=t(s!==void 0?s:e.custom,r,o)}return t}const Es=e=>Array.isArray(e),ql=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Kl=e=>Es(e)?e[e.length-1]||0:e,Q=e=>!!(e&&e.getVelocity);function Dt(e){const t=Q(e)?e.get():e;return ql(t)?t.toValue():t}function Gl({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},n,r,o){const i={latestValues:Xl(n,r,o,e),renderState:t()};return s&&(i.onMount=l=>s({props:n,current:l,...i}),i.onUpdate=l=>s(l)),i}const Ca=e=>(t,s)=>{const n=p.useContext(Xt),r=p.useContext(Gt),o=()=>Gl(e,t,n,r);return s?o():Qs(o)};function Xl(e,t,s,n){const r={},o=n(e,{});for(const h in o)r[h]=Dt(o[h]);let{initial:i,animate:l}=e;const c=Zt(e),d=Ta(e);t&&d&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||i===!1;const m=u?l:i;if(m&&typeof m!="boolean"&&!Qt(m)){const h=Array.isArray(m)?m:[m];for(let f=0;f<h.length;f++){const x=ln(e,h[f]);if(x){const{transitionEnd:y,transition:v,...b}=x;for(const j in b){let g=b[j];if(Array.isArray(g)){const T=u?g.length-1:0;g=g[T]}g!==null&&(r[j]=g)}for(const j in y)r[j]=y[j]}}}return r}const qe=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Re=new Set(qe),Ma=e=>t=>typeof t=="string"&&t.startsWith(e),Aa=Ma("--"),Ql=Ma("var(--"),cn=e=>Ql(e)?Zl.test(e.split("/*")[0].trim()):!1,Zl=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Pa=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ge=(e,t,s)=>s>t?t:s<e?e:s,Ke={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lt={...Ke,transform:e=>ge(0,1,e)},Ct={...Ke,default:1},gt=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ye=gt("deg"),ce=gt("%"),M=gt("px"),Jl=gt("vh"),ec=gt("vw"),Fn={...ce,parse:e=>ce.parse(e)/100,transform:e=>ce.transform(e*100)},tc={borderWidth:M,borderTopWidth:M,borderRightWidth:M,borderBottomWidth:M,borderLeftWidth:M,borderRadius:M,radius:M,borderTopLeftRadius:M,borderTopRightRadius:M,borderBottomRightRadius:M,borderBottomLeftRadius:M,width:M,maxWidth:M,height:M,maxHeight:M,top:M,right:M,bottom:M,left:M,padding:M,paddingTop:M,paddingRight:M,paddingBottom:M,paddingLeft:M,margin:M,marginTop:M,marginRight:M,marginBottom:M,marginLeft:M,backgroundPositionX:M,backgroundPositionY:M},sc={rotate:ye,rotateX:ye,rotateY:ye,rotateZ:ye,scale:Ct,scaleX:Ct,scaleY:Ct,scaleZ:Ct,skew:ye,skewX:ye,skewY:ye,distance:M,translateX:M,translateY:M,translateZ:M,x:M,y:M,z:M,perspective:M,transformPerspective:M,opacity:lt,originX:Fn,originY:Fn,originZ:M},Un={...Ke,transform:Math.round},dn={...tc,...sc,zIndex:Un,size:M,fillOpacity:lt,strokeOpacity:lt,numOctaves:Un},nc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rc=qe.length;function ac(e,t,s){let n="",r=!0;for(let o=0;o<rc;o++){const i=qe[o],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=Pa(l,dn[i]);if(!c){r=!1;const u=nc[i]||i;n+=`${u}(${d}) `}s&&(t[i]=d)}}return n=n.trim(),s?n=s(t,r?"":n):r&&(n="none"),n}function un(e,t,s){const{style:n,vars:r,transformOrigin:o}=e;let i=!1,l=!1;for(const c in t){const d=t[c];if(Re.has(c)){i=!0;continue}else if(Aa(c)){r[c]=d;continue}else{const u=Pa(d,dn[c]);c.startsWith("origin")?(l=!0,o[c]=u):n[c]=u}}if(t.transform||(i||s?n.transform=ac(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=o;n.transformOrigin=`${c} ${d} ${u}`}}const ic={offset:"stroke-dashoffset",array:"stroke-dasharray"},oc={offset:"strokeDashoffset",array:"strokeDasharray"};function lc(e,t,s=1,n=0,r=!0){e.pathLength=1;const o=r?ic:oc;e[o.offset]=M.transform(-n);const i=M.transform(t),l=M.transform(s);e[o.array]=`${i} ${l}`}function zn(e,t,s){return typeof e=="string"?e:M.transform(t+s*e)}function cc(e,t,s){const n=zn(t,e.x,e.width),r=zn(s,e.y,e.height);return`${n} ${r}`}function mn(e,{attrX:t,attrY:s,attrScale:n,originX:r,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...d},u,m){if(un(e,d,m),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f,dimensions:x}=e;h.transform&&(x&&(f.transform=h.transform),delete h.transform),x&&(r!==void 0||o!==void 0||f.transform)&&(f.transformOrigin=cc(x,r!==void 0?r:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),s!==void 0&&(h.y=s),n!==void 0&&(h.scale=n),i!==void 0&&lc(h,i,l,c,!1)}const hn=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Da=()=>({...hn(),attrs:{}}),fn=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ea(e,{style:t,vars:s},n,r){Object.assign(e.style,t,r&&r.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const Va=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ra(e,t,s,n){Ea(e,t,void 0,n);for(const r in t.attrs)e.setAttribute(Va.has(r)?r:rn(r),t.attrs[r])}const Bt={};function dc(e){Object.assign(Bt,e)}function La(e,{layout:t,layoutId:s}){return Re.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Bt[e]||e==="opacity")}function pn(e,t,s){var n;const{style:r}=e,o={};for(const i in r)(Q(r[i])||t.style&&Q(t.style[i])||La(i,e)||((n=s==null?void 0:s.getValue(i))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(o[i]=r[i]);return o}function Ia(e,t,s){const n=pn(e,t,s);for(const r in e)if(Q(e[r])||Q(t[r])){const o=qe.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function uc(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Wn=["x","y","width","height","cx","cy","r"],mc={useVisualState:Ca({scrapeMotionValuesFromProps:Ia,createRenderState:Da,onUpdate:({props:e,prevProps:t,current:s,renderState:n,latestValues:r})=>{if(!s)return;let o=!!e.drag;if(!o){for(const l in r)if(Re.has(l)){o=!0;break}}if(!o)return;let i=!t;if(t)for(let l=0;l<Wn.length;l++){const c=Wn[l];e[c]!==t[c]&&(i=!0)}i&&O.read(()=>{uc(s,n),O.render(()=>{mn(n,r,fn(s.tagName),e.transformTemplate),Ra(s,n)})})}})},hc={useVisualState:Ca({scrapeMotionValuesFromProps:pn,createRenderState:hn})};function Ba(e,t,s){for(const n in t)!Q(t[n])&&!La(n,s)&&(e[n]=t[n])}function fc({transformTemplate:e},t){return p.useMemo(()=>{const s=hn();return un(s,t,e),Object.assign({},s.vars,s.style)},[t])}function pc(e,t){const s=e.style||{},n={};return Ba(n,s,e),Object.assign(n,fc(e,t)),n}function gc(e,t){const s={},n=pc(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}function xc(e,t,s,n){const r=p.useMemo(()=>{const o=Da();return mn(o,t,fn(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Ba(o,e.style,e),r.style={...o,...r.style}}return r}function yc(e=!1){return(s,n,r,{latestValues:o},i)=>{const c=(on(s)?xc:gc)(n,o,i,s),d=Vl(n,typeof s=="string",e),u=s!==p.Fragment?{...d,...c,ref:r}:{},{children:m}=n,h=p.useMemo(()=>Q(m)?m.get():m,[m]);return p.createElement(s,{...u,children:h})}}function vc(e,t){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){const i={...on(n)?mc:hc,preloadedFeatures:e,useRender:yc(r),createVisualElement:t,Component:n};return Wl(i)}}function Oa(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function Jt(e,t,s){const n=e.getProps();return ln(n,t,s!==void 0?s:n.custom,e)}const bc=tn(()=>window.ScrollTimeline!==void 0);class wc{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=s}attachTimeline(t,s){const n=this.animations.map(r=>{if(bc()&&r.attachTimeline)return r.attachTimeline(t);if(typeof s=="function")return s(r)});return()=>{n.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class jc extends wc{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function gn(e,t){return e?e[t]||e.default||e:void 0}const Vs=2e4;function Fa(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<Vs;)t+=s,n=e.next(t);return t>=Vs?1/0:t}function xn(e){return typeof e=="function"}function _n(e,t){e.timeline=t,e.onfinish=null}const yn=e=>Array.isArray(e)&&typeof e[0]=="number",Tc={linearEasing:void 0};function kc(e,t){const s=tn(e);return()=>{var n;return(n=Tc[t])!==null&&n!==void 0?n:s()}}const Ot=kc(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ua=(e,t,s=10)=>{let n="";const r=Math.max(Math.round(t/s),2);for(let o=0;o<r;o++)n+=e(_e(0,r-1,o))+", ";return`linear(${n.substring(0,n.length-2)})`};function za(e){return!!(typeof e=="function"&&Ot()||!e||typeof e=="string"&&(e in Rs||Ot())||yn(e)||Array.isArray(e)&&e.every(za))}const et=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Rs={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:et([0,.65,.55,1]),circOut:et([.55,0,1,.45]),backIn:et([.31,.01,.66,-.59]),backOut:et([.33,1.53,.69,.99])};function Wa(e,t){if(e)return typeof e=="function"&&Ot()?Ua(e,t):yn(e)?et(e):Array.isArray(e)?e.map(s=>Wa(s,t)||Rs.easeOut):Rs[e]}const re={x:!1,y:!1};function _a(){return re.x||re.y}function Sc(e,t,s){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let r=document;const o=(n=void 0)!==null&&n!==void 0?n:r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function $a(e,t){const s=Sc(e),n=new AbortController,r={passive:!0,...t,signal:n.signal};return[s,r,()=>n.abort()]}function $n(e){return t=>{t.pointerType==="touch"||_a()||e(t)}}function Nc(e,t,s={}){const[n,r,o]=$a(e,s),i=$n(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const u=$n(m=>{d(m),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,r)});return n.forEach(l=>{l.addEventListener("pointerenter",i,r)}),o}const Ha=(e,t)=>t?e===t?!0:Ha(e,t.parentElement):!1,vn=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Cc=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Mc(e){return Cc.has(e.tagName)||e.tabIndex!==-1}const tt=new WeakSet;function Hn(e){return t=>{t.key==="Enter"&&e(t)}}function cs(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Ac=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=Hn(()=>{if(tt.has(s))return;cs(s,"down");const r=Hn(()=>{cs(s,"up")}),o=()=>cs(s,"cancel");s.addEventListener("keyup",r,t),s.addEventListener("blur",o,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function Yn(e){return vn(e)&&!_a()}function Pc(e,t,s={}){const[n,r,o]=$a(e,s),i=l=>{const c=l.currentTarget;if(!Yn(l)||tt.has(c))return;tt.add(c);const d=t(l),u=(f,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),!(!Yn(f)||!tt.has(c))&&(tt.delete(c),typeof d=="function"&&d(f,{success:x}))},m=f=>{u(f,s.useGlobalTarget||Ha(c,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",h,r)};return n.forEach(l=>{!Mc(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(s.useGlobalTarget?window:l).addEventListener("pointerdown",i,r),l.addEventListener("focus",d=>Ac(d,r),r)}),o}function Dc(e){return e==="x"||e==="y"?re[e]?null:(re[e]=!0,()=>{re[e]=!1}):re.x||re.y?null:(re.x=re.y=!0,()=>{re.x=re.y=!1})}const Ya=new Set(["width","height","top","left","right","bottom",...qe]);let Et;function Ec(){Et=void 0}const de={now:()=>(Et===void 0&&de.set(K.isProcessing||Cl.useManualTiming?K.timestamp:performance.now()),Et),set:e=>{Et=e,queueMicrotask(Ec)}};function bn(e,t){e.indexOf(t)===-1&&e.push(t)}function wn(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class jn{constructor(){this.subscriptions=[]}add(t){return bn(this.subscriptions,t),()=>wn(this.subscriptions,t)}notify(t,s,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,s,n);else for(let o=0;o<r;o++){const i=this.subscriptions[o];i&&i(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function qa(e,t){return t?e*(1e3/t):0}const qn=30,Vc=e=>!isNaN(parseFloat(e));class Rc{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,r=!0)=>{const o=de.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=de.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Vc(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new jn);const n=this.events[t].add(s);return t==="change"?()=>{n(),O.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=de.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qn)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,qn);return qa(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ct(e,t){return new Rc(e,t)}function Lc(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,ct(s))}function Ic(e,t){const s=Jt(e,t);let{transitionEnd:n={},transition:r={},...o}=s||{};o={...o,...n};for(const i in o){const l=Kl(o[i]);Lc(e,i,l)}}function Bc(e){return!!(Q(e)&&e.add)}function Ls(e,t){const s=e.getValue("willChange");if(Bc(s))return s.add(t)}function Ka(e){return e.props[ka]}const Ga=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Oc=1e-7,Fc=12;function Uc(e,t,s,n,r){let o,i,l=0;do i=t+(s-t)/2,o=Ga(i,n,r)-e,o>0?s=i:t=i;while(Math.abs(o)>Oc&&++l<Fc);return i}function xt(e,t,s,n){if(e===t&&s===n)return J;const r=o=>Uc(o,0,1,e,s);return o=>o===0||o===1?o:Ga(r(o),t,n)}const Xa=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Qa=e=>t=>1-e(1-t),Za=xt(.33,1.53,.69,.99),Tn=Qa(Za),Ja=Xa(Tn),ei=e=>(e*=2)<1?.5*Tn(e):.5*(2-Math.pow(2,-10*(e-1))),kn=e=>1-Math.sin(Math.acos(e)),ti=Qa(kn),si=Xa(kn),ni=e=>/^0[^.\s]+$/u.test(e);function zc(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ni(e):!0}const nt=e=>Math.round(e*1e5)/1e5,Sn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Wc(e){return e==null}const _c=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nn=(e,t)=>s=>!!(typeof s=="string"&&_c.test(s)&&s.startsWith(e)||t&&!Wc(s)&&Object.prototype.hasOwnProperty.call(s,t)),ri=(e,t,s)=>n=>{if(typeof n!="string")return n;const[r,o,i,l]=n.match(Sn);return{[e]:parseFloat(r),[t]:parseFloat(o),[s]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},$c=e=>ge(0,255,e),ds={...Ke,transform:e=>Math.round($c(e))},De={test:Nn("rgb","red"),parse:ri("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+ds.transform(e)+", "+ds.transform(t)+", "+ds.transform(s)+", "+nt(lt.transform(n))+")"};function Hc(e){let t="",s="",n="",r="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),r=e.substring(4,5),t+=t,s+=s,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const Is={test:Nn("#"),parse:Hc,transform:De.transform},Fe={test:Nn("hsl","hue"),parse:ri("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+ce.transform(nt(t))+", "+ce.transform(nt(s))+", "+nt(lt.transform(n))+")"},X={test:e=>De.test(e)||Is.test(e)||Fe.test(e),parse:e=>De.test(e)?De.parse(e):Fe.test(e)?Fe.parse(e):Is.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?De.transform(e):Fe.transform(e)},Yc=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qc(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Sn))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(Yc))===null||s===void 0?void 0:s.length)||0)>0}const ai="number",ii="color",Kc="var",Gc="var(",Kn="${}",Xc=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dt(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},r=[];let o=0;const l=t.replace(Xc,c=>(X.test(c)?(n.color.push(o),r.push(ii),s.push(X.parse(c))):c.startsWith(Gc)?(n.var.push(o),r.push(Kc),s.push(c)):(n.number.push(o),r.push(ai),s.push(parseFloat(c))),++o,Kn)).split(Kn);return{values:s,split:l,indexes:n,types:r}}function oi(e){return dt(e).values}function li(e){const{split:t,types:s}=dt(e),n=t.length;return r=>{let o="";for(let i=0;i<n;i++)if(o+=t[i],r[i]!==void 0){const l=s[i];l===ai?o+=nt(r[i]):l===ii?o+=X.transform(r[i]):o+=r[i]}return o}}const Qc=e=>typeof e=="number"?0:e;function Zc(e){const t=oi(e);return li(e)(t.map(Qc))}const we={test:qc,parse:oi,createTransformer:li,getAnimatableNone:Zc},Jc=new Set(["brightness","contrast","saturate","opacity"]);function ed(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Sn)||[];if(!n)return e;const r=s.replace(n,"");let o=Jc.has(t)?1:0;return n!==s&&(o*=100),t+"("+o+r+")"}const td=/\b([a-z-]*)\(.*?\)/gu,Bs={...we,getAnimatableNone:e=>{const t=e.match(td);return t?t.map(ed).join(" "):e}},sd={...dn,color:X,backgroundColor:X,outlineColor:X,fill:X,stroke:X,borderColor:X,borderTopColor:X,borderRightColor:X,borderBottomColor:X,borderLeftColor:X,filter:Bs,WebkitFilter:Bs},Cn=e=>sd[e];function ci(e,t){let s=Cn(e);return s!==Bs&&(s=we),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const nd=new Set(["auto","none","0"]);function rd(e,t,s){let n=0,r;for(;n<e.length&&!r;){const o=e[n];typeof o=="string"&&!nd.has(o)&&dt(o).values.length&&(r=e[n]),n++}if(r&&s)for(const o of t)e[o]=ci(s,r)}const Gn=e=>e===Ke||e===M,Xn=(e,t)=>parseFloat(e.split(", ")[t]),Qn=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const r=n.match(/^matrix3d\((.+)\)$/u);if(r)return Xn(r[1],t);{const o=n.match(/^matrix\((.+)\)$/u);return o?Xn(o[1],e):0}},ad=new Set(["x","y","z"]),id=qe.filter(e=>!ad.has(e));function od(e){const t=[];return id.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const He={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Qn(4,13),y:Qn(5,14)};He.translateX=He.x;He.translateY=He.y;const Ee=new Set;let Os=!1,Fs=!1;function di(){if(Fs){const e=Array.from(Ee).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const r=od(n);r.length&&(s.set(n,r),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const r=s.get(n);r&&r.forEach(([o,i])=>{var l;(l=n.getValue(o))===null||l===void 0||l.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Fs=!1,Os=!1,Ee.forEach(e=>e.complete()),Ee.clear()}function ui(){Ee.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Fs=!0)})}function ld(){ui(),di()}class Mn{constructor(t,s,n,r,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=r,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ee.add(this),Os||(Os=!0,O.read(ui),O.resolveKeyframes(di))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:r}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const i=r==null?void 0:r.get(),l=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&s){const c=n.readValue(s,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),r&&i===void 0&&r.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ee.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ee.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const mi=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),cd=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dd(e){const t=cd.exec(e);if(!t)return[,];const[,s,n,r]=t;return[`--${s??n}`,r]}function hi(e,t,s=1){const[n,r]=dd(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const i=o.trim();return mi(i)?parseFloat(i):i}return cn(r)?hi(r,t,s+1):r}const fi=e=>t=>t.test(e),ud={test:e=>e==="auto",parse:e=>e},pi=[Ke,M,ce,ye,ec,Jl,ud],Zn=e=>pi.find(fi(e));class gi extends Mn{constructor(t,s,n,r,o){super(t,s,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),cn(d))){const u=hi(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Ya.has(n)||t.length!==2)return;const[r,o]=t,i=Zn(r),l=Zn(o);if(i!==l)if(Gn(i)&&Gn(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let r=0;r<t.length;r++)zc(t[r])&&n.push(r);n.length&&rd(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=He[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const r=s[s.length-1];r!==void 0&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;const{element:s,name:n,unresolvedKeyframes:r}=this;if(!s||!s.current)return;const o=s.getValue(n);o&&o.jump(this.measuredOrigin,!1);const i=r.length-1,l=r[i];r[i]=He[n](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const Jn=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(we.test(e)||e==="0")&&!e.startsWith("url("));function md(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function hd(e,t,s,n){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=Jn(r,t),l=Jn(o,t);return!i||!l?!1:md(e)||(s==="spring"||xn(s))&&n}const fd=e=>e!==null;function es(e,{repeat:t,repeatType:s="loop"},n){const r=e.filter(fd),o=t&&s!=="loop"&&t%2===1?0:r.length-1;return!o||n===void 0?r[o]:n}const pd=40;class xi{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:i="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=de.now(),this.options={autoplay:t,delay:s,type:n,repeat:r,repeatDelay:o,repeatType:i,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pd?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ld(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=de.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:o,delay:i,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!hd(t,n,r,o))if(i)this.options.duration=0;else{c&&c(es(t,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,s);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...u},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const U=(e,t,s)=>e+(t-e)*s;function us(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function gd({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let r=0,o=0,i=0;if(!t)r=o=i=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;r=us(c,l,e+1/3),o=us(c,l,e),i=us(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:n}}function Ft(e,t){return s=>s>0?t:e}const ms=(e,t,s)=>{const n=e*e,r=s*(t*t-n)+n;return r<0?0:Math.sqrt(r)},xd=[Is,De,Fe],yd=e=>xd.find(t=>t.test(e));function er(e){const t=yd(e);if(!t)return!1;let s=t.parse(e);return t===Fe&&(s=gd(s)),s}const tr=(e,t)=>{const s=er(e),n=er(t);if(!s||!n)return Ft(e,t);const r={...s};return o=>(r.red=ms(s.red,n.red,o),r.green=ms(s.green,n.green,o),r.blue=ms(s.blue,n.blue,o),r.alpha=U(s.alpha,n.alpha,o),De.transform(r))},vd=(e,t)=>s=>t(e(s)),yt=(...e)=>e.reduce(vd),Us=new Set(["none","hidden"]);function bd(e,t){return Us.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function wd(e,t){return s=>U(e,t,s)}function An(e){return typeof e=="number"?wd:typeof e=="string"?cn(e)?Ft:X.test(e)?tr:kd:Array.isArray(e)?yi:typeof e=="object"?X.test(e)?tr:jd:Ft}function yi(e,t){const s=[...e],n=s.length,r=e.map((o,i)=>An(o)(o,t[i]));return o=>{for(let i=0;i<n;i++)s[i]=r[i](o);return s}}function jd(e,t){const s={...e,...t},n={};for(const r in s)e[r]!==void 0&&t[r]!==void 0&&(n[r]=An(e[r])(e[r],t[r]));return r=>{for(const o in n)s[o]=n[o](r);return s}}function Td(e,t){var s;const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const i=t.types[o],l=e.indexes[i][r[i]],c=(s=e.values[l])!==null&&s!==void 0?s:0;n[o]=c,r[i]++}return n}const kd=(e,t)=>{const s=we.createTransformer(t),n=dt(e),r=dt(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?Us.has(e)&&!r.values.length||Us.has(t)&&!n.values.length?bd(e,t):yt(yi(Td(n,r),r.values),s):Ft(e,t)};function vi(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?U(e,t,s):An(e)(e,t)}const Sd=5;function bi(e,t,s){const n=Math.max(t-Sd,0);return qa(s-e(n),t-n)}const _={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hs=.001;function Nd({duration:e=_.duration,bounce:t=_.bounce,velocity:s=_.velocity,mass:n=_.mass}){let r,o,i=1-t;i=ge(_.minDamping,_.maxDamping,i),e=ge(_.minDuration,_.maxDuration,fe(e)),i<1?(r=d=>{const u=d*i,m=u*e,h=u-s,f=zs(d,i),x=Math.exp(-m);return hs-h/f*x},o=d=>{const m=d*i*e,h=m*s+s,f=Math.pow(i,2)*Math.pow(d,2)*e,x=Math.exp(-m),y=zs(Math.pow(d,2),i);return(-r(d)+hs>0?-1:1)*((h-f)*x)/y}):(r=d=>{const u=Math.exp(-d*e),m=(d-s)*e+1;return-hs+u*m},o=d=>{const u=Math.exp(-d*e),m=(s-d)*(e*e);return u*m});const l=5/e,c=Md(r,o,l);if(e=he(e),isNaN(c))return{stiffness:_.stiffness,damping:_.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:i*2*Math.sqrt(n*d),duration:e}}}const Cd=12;function Md(e,t,s){let n=s;for(let r=1;r<Cd;r++)n=n-e(n)/t(n);return n}function zs(e,t){return e*Math.sqrt(1-t*t)}const Ad=["duration","bounce"],Pd=["stiffness","damping","mass"];function sr(e,t){return t.some(s=>e[s]!==void 0)}function Dd(e){let t={velocity:_.velocity,stiffness:_.stiffness,damping:_.damping,mass:_.mass,isResolvedFromDuration:!1,...e};if(!sr(e,Pd)&&sr(e,Ad))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),r=n*n,o=2*ge(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:_.mass,stiffness:r,damping:o}}else{const s=Nd(e);t={...t,...s,mass:_.mass},t.isResolvedFromDuration=!0}return t}function wi(e=_.visualDuration,t=_.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:r}=s;const o=s.keyframes[0],i=s.keyframes[s.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:d,mass:u,duration:m,velocity:h,isResolvedFromDuration:f}=Dd({...s,velocity:-fe(s.velocity||0)}),x=h||0,y=d/(2*Math.sqrt(c*u)),v=i-o,b=fe(Math.sqrt(c/u)),j=Math.abs(v)<5;n||(n=j?_.restSpeed.granular:_.restSpeed.default),r||(r=j?_.restDelta.granular:_.restDelta.default);let g;if(y<1){const w=zs(b,y);g=P=>{const B=Math.exp(-y*b*P);return i-B*((x+y*b*v)/w*Math.sin(w*P)+v*Math.cos(w*P))}}else if(y===1)g=w=>i-Math.exp(-b*w)*(v+(x+b*v)*w);else{const w=b*Math.sqrt(y*y-1);g=P=>{const B=Math.exp(-y*b*P),D=Math.min(w*P,300);return i-B*((x+y*b*v)*Math.sinh(D)+w*v*Math.cosh(D))/w}}const T={calculatedDuration:f&&m||null,next:w=>{const P=g(w);if(f)l.done=w>=m;else{let B=0;y<1&&(B=w===0?he(x):bi(g,w,P));const D=Math.abs(B)<=n,z=Math.abs(i-P)<=r;l.done=D&&z}return l.value=l.done?i:P,l},toString:()=>{const w=Math.min(Fa(T),Vs),P=Ua(B=>T.next(w*B).value,w,30);return w+"ms "+P}};return T}function nr({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],h={done:!1,value:m},f=D=>l!==void 0&&D<l||c!==void 0&&D>c,x=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let y=s*t;const v=m+y,b=i===void 0?v:i(v);b!==v&&(y=b-m);const j=D=>-y*Math.exp(-D/n),g=D=>b+j(D),T=D=>{const z=j(D),G=g(D);h.done=Math.abs(z)<=d,h.value=h.done?b:G};let w,P;const B=D=>{f(h.value)&&(w=D,P=wi({keyframes:[h.value,x(h.value)],velocity:bi(g,D,h.value),damping:r,stiffness:o,restDelta:d,restSpeed:u}))};return B(0),{calculatedDuration:null,next:D=>{let z=!1;return!P&&w===void 0&&(z=!0,T(D),B(D)),w!==void 0&&D>=w?P.next(D-w):(!z&&T(D),h)}}}const Ed=xt(.42,0,1,1),Vd=xt(0,0,.58,1),ji=xt(.42,0,.58,1),Rd=e=>Array.isArray(e)&&typeof e[0]!="number",rr={linear:J,easeIn:Ed,easeInOut:ji,easeOut:Vd,circIn:kn,circInOut:si,circOut:ti,backIn:Tn,backInOut:Ja,backOut:Za,anticipate:ei},ar=e=>{if(yn(e)){Ds(e.length===4);const[t,s,n,r]=e;return xt(t,s,n,r)}else if(typeof e=="string")return Ds(rr[e]!==void 0),rr[e];return e};function Ld(e,t,s){const n=[],r=s||vi,o=e.length-1;for(let i=0;i<o;i++){let l=r(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||J:t;l=yt(c,l)}n.push(l)}return n}function Id(e,t,{clamp:s=!0,ease:n,mixer:r}={}){const o=e.length;if(Ds(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Ld(t,n,r),c=l.length,d=u=>{if(i&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const h=_e(e[m],e[m+1],u);return l[m](h)};return s?u=>d(ge(e[0],e[o-1],u)):d}function Bd(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const r=_e(0,t,n);e.push(U(s,1,r))}}function Od(e){const t=[0];return Bd(t,e.length-1),t}function Fd(e,t){return e.map(s=>s*t)}function Ud(e,t){return e.map(()=>t||ji).splice(0,e.length-1)}function Ut({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const r=Rd(n)?n.map(ar):ar(n),o={done:!1,value:t[0]},i=Fd(s&&s.length===t.length?s:Od(t),e),l=Id(i,t,{ease:Array.isArray(r)?r:Ud(t,r)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const zd=e=>{const t=({timestamp:s})=>e(s);return{start:()=>O.update(t,!0),stop:()=>be(t),now:()=>K.isProcessing?K.timestamp:de.now()}},Wd={decay:nr,inertia:nr,tween:Ut,keyframes:Ut,spring:wi},_d=e=>e/100;class Pn extends xi{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:n,element:r,keyframes:o}=this.options,i=(r==null?void 0:r.KeyframeResolver)||Mn,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new i(o,l,s,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:i=0}=this.options,l=xn(s)?s:Wd[s]||Ut;let c,d;l!==Ut&&typeof t[0]!="number"&&(c=yt(_d,vi(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});o==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=Fa(u));const{calculatedDuration:m}=u,h=m+r,f=h*(n+1)-r;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:m,resolvedDuration:h,totalDuration:f}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:n}=this;if(!n){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:i,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:m}=n;if(this.startTime===null)return o.next(0);const{delay:h,repeat:f,repeatType:x,repeatDelay:y,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-h*(this.speed>=0?1:-1),j=this.speed>=0?b<0:b>u;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let g=this.currentTime,T=o;if(f){const D=Math.min(this.currentTime,u)/m;let z=Math.floor(D),G=D%1;!G&&D>=1&&(G=1),G===1&&z--,z=Math.min(z,f+1),!!(z%2)&&(x==="reverse"?(G=1-G,y&&(G-=y/m)):x==="mirror"&&(T=i)),g=ge(0,1,G)*m}const w=j?{done:!1,value:c[0]}:T.next(g);l&&(w.value=l(w.value));let{done:P}=w;!j&&d!==null&&(P=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return B&&r!==void 0&&(w.value=es(c,this.options,r)),v&&v(w.value),B&&this.finish(),w}get duration(){const{resolved:t}=this;return t?fe(t.calculatedDuration):0}get time(){return fe(this.currentTime)}set time(t){t=he(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=fe(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=zd,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),s&&s();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const $d=new Set(["opacity","clipPath","filter","transform"]);function Hd(e,t,s,{delay:n=0,duration:r=300,repeat:o=0,repeatType:i="loop",ease:l="easeInOut",times:c}={}){const d={[t]:s};c&&(d.offset=c);const u=Wa(l,r);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}const Yd=tn(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zt=10,qd=2e4;function Kd(e){return xn(e.type)||e.type==="spring"||!za(e.ease)}function Gd(e,t){const s=new Pn({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const r=[];let o=0;for(;!n.done&&o<qd;)n=s.sample(o),r.push(n.value),o+=zt;return{times:void 0,keyframes:r,duration:o-zt,ease:"linear"}}const Ti={anticipate:ei,backInOut:Ja,circInOut:si};function Xd(e){return e in Ti}class ir extends xi{constructor(t){super(t);const{name:s,motionValue:n,element:r,keyframes:o}=this.options;this.resolver=new gi(o,(i,l)=>this.onKeyframesResolved(i,l),s,n,r),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:n=300,times:r,ease:o,type:i,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof o=="string"&&Ot()&&Xd(o)&&(o=Ti[o]),Kd(this.options)){const{onComplete:m,onUpdate:h,motionValue:f,element:x,...y}=this.options,v=Gd(t,y);t=v.keyframes,t.length===1&&(t[1]=t[0]),n=v.duration,r=v.times,o=v.ease,i="keyframes"}const u=Hd(l.owner.current,c,t,{...this.options,duration:n,times:r,ease:o});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(_n(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:m}=this.options;l.set(es(t,this.options,s)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:r,type:i,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return fe(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return fe(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=he(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return J;const{animation:n}=s;_n(n,t)}return J}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:n,duration:r,type:o,ease:i,times:l}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:m,element:h,...f}=this.options,x=new Pn({...f,keyframes:n,duration:r,type:o,ease:i,times:l,isGenerator:!0}),y=he(this.time);d.setWithVelocity(x.sample(y-zt).value,x.sample(y).value,zt)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:n,repeatDelay:r,repeatType:o,damping:i,type:l}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=s.owner.getProps();return Yd()&&n&&$d.has(n)&&!c&&!d&&!r&&o!=="mirror"&&i!==0&&l!=="inertia"}}const Qd={type:"spring",stiffness:500,damping:25,restSpeed:10},Zd=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Jd={type:"keyframes",duration:.8},eu={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tu=(e,{keyframes:t})=>t.length>2?Jd:Re.has(e)?e.startsWith("scale")?Zd(t[1]):Qd:eu;function su({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:r,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Dn=(e,t,s,n={},r,o)=>i=>{const l=gn(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-he(c);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:r};su(l)||(u={...u,...tu(e,u)}),u.duration&&(u.duration=he(u.duration)),u.repeatDelay&&(u.repeatDelay=he(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(m=!0)),m&&!o&&t.get()!==void 0){const h=es(u.keyframes,l);if(h!==void 0)return O.update(()=>{u.onUpdate(h),u.onComplete()}),new jc([])}return!o&&ir.supports(u)?new ir(u):new Pn(u)};function nu({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function ki(e,t,{delay:s=0,transitionOverride:n,type:r}={}){var o;let{transition:i=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(i=n);const d=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const m in c){const h=e.getValue(m,(o=e.latestValues[m])!==null&&o!==void 0?o:null),f=c[m];if(f===void 0||u&&nu(u,m))continue;const x={delay:s,...gn(i||{},m)};let y=!1;if(window.MotionHandoffAnimation){const b=Ka(e);if(b){const j=window.MotionHandoffAnimation(b,m,O);j!==null&&(x.startTime=j,y=!0)}}Ls(e,m),h.start(Dn(m,h,f,e.shouldReduceMotion&&Ya.has(m)?{type:!1}:x,e,y));const v=h.animation;v&&d.push(v)}return l&&Promise.all(d).then(()=>{O.update(()=>{l&&Ic(e,l)})}),d}function Ws(e,t,s={}){var n;const r=Jt(e,t,s.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(o=s.transitionOverride);const i=r?()=>Promise.all(ki(e,r,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:h}=o;return ru(e,t,u+d,m,h,s)}:()=>Promise.resolve(),{when:c}=o;if(c){const[d,u]=c==="beforeChildren"?[i,l]:[l,i];return d().then(()=>u())}else return Promise.all([i(),l(s.delay)])}function ru(e,t,s=0,n=0,r=1,o){const i=[],l=(e.variantChildren.size-1)*n,c=r===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(au).forEach((d,u)=>{d.notify("AnimationStart",t),i.push(Ws(d,t,{...o,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(i)}function au(e,t){return e.sortNodePosition(t)}function iu(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const r=t.map(o=>Ws(e,o,s));n=Promise.all(r)}else if(typeof t=="string")n=Ws(e,t,s);else{const r=typeof t=="function"?Jt(e,t,s.custom):t;n=Promise.all(ki(e,r,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const ou=nn.length;function Si(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Si(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<ou;s++){const n=nn[s],r=e.props[n];(ot(r)||r===!1)&&(t[n]=r)}return t}const lu=[...sn].reverse(),cu=sn.length;function du(e){return t=>Promise.all(t.map(({animation:s,options:n})=>iu(e,s,n)))}function uu(e){let t=du(e),s=or(),n=!0;const r=c=>(d,u)=>{var m;const h=Jt(e,u,c==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(h){const{transition:f,transitionEnd:x,...y}=h;d={...d,...y,...x}}return d};function o(c){t=c(e)}function i(c){const{props:d}=e,u=Si(e.parent)||{},m=[],h=new Set;let f={},x=1/0;for(let v=0;v<cu;v++){const b=lu[v],j=s[b],g=d[b]!==void 0?d[b]:u[b],T=ot(g),w=b===c?j.isActive:null;w===!1&&(x=v);let P=g===u[b]&&g!==d[b]&&T;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),j.protectedKeys={...f},!j.isActive&&w===null||!g&&!j.prevProp||Qt(g)||typeof g=="boolean")continue;const B=mu(j.prevProp,g);let D=B||b===c&&j.isActive&&!P&&T||v>x&&T,z=!1;const G=Array.isArray(g)?g:[g];let W=G.reduce(r(b),{});w===!1&&(W={});const{prevResolvedValues:Z={}}=j,A={...Z,...W},k=C=>{D=!0,h.has(C)&&(z=!0,h.delete(C)),j.needsAnimating[C]=!0;const I=e.getValue(C);I&&(I.liveStyle=!1)};for(const C in A){const I=W[C],R=Z[C];if(f.hasOwnProperty(C))continue;let H=!1;Es(I)&&Es(R)?H=!Oa(I,R):H=I!==R,H?I!=null?k(C):h.add(C):I!==void 0&&h.has(C)?k(C):j.protectedKeys[C]=!0}j.prevProp=g,j.prevResolvedValues=W,j.isActive&&(f={...f,...W}),n&&e.blockInitialAnimation&&(D=!1),D&&(!(P&&B)||z)&&m.push(...G.map(C=>({animation:C,options:{type:b}})))}if(h.size){const v={};h.forEach(b=>{const j=e.getBaseTarget(b),g=e.getValue(b);g&&(g.liveStyle=!0),v[b]=j??null}),m.push({animation:v})}let y=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(m):Promise.resolve()}function l(c,d){var u;if(s[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var f;return(f=h.animationState)===null||f===void 0?void 0:f.setActive(c,d)}),s[c].isActive=d;const m=i(c);for(const h in s)s[h].protectedKeys={};return m}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>s,reset:()=>{s=or(),n=!0}}}function mu(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Oa(t,e):!1}function Ne(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function or(){return{animate:Ne(!0),whileInView:Ne(),whileHover:Ne(),whileTap:Ne(),whileDrag:Ne(),whileFocus:Ne(),exit:Ne()}}class Se{constructor(t){this.isMounted=!1,this.node=t}update(){}}class hu extends Se{constructor(t){super(t),t.animationState||(t.animationState=uu(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let fu=0;class pu extends Se{constructor(){super(...arguments),this.id=fu++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);s&&!t&&r.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const gu={animation:{Feature:hu},exit:{Feature:pu}};function ut(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function vt(e){return{point:{x:e.pageX,y:e.pageY}}}const xu=e=>t=>vn(t)&&e(t,vt(t));function rt(e,t,s,n){return ut(e,t,xu(s),n)}const lr=(e,t)=>Math.abs(e-t);function yu(e,t){const s=lr(e.x,t.x),n=lr(e.y,t.y);return Math.sqrt(s**2+n**2)}class Ni{constructor(t,s,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=ps(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=yu(m.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:x}=m,{timestamp:y}=K;this.history.push({...x,timestamp:y});const{onStart:v,onMove:b}=this.handlers;h||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=fs(h,this.transformPagePoint),O.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:f,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ps(m.type==="pointercancel"?this.lastMoveEventInfo:fs(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(m,v),x&&x(m,v)},!vn(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=n,this.contextWindow=r||window;const i=vt(t),l=fs(i,this.transformPagePoint),{point:c}=l,{timestamp:d}=K;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,ps(l,this.history)),this.removeListeners=yt(rt(this.contextWindow,"pointermove",this.handlePointerMove),rt(this.contextWindow,"pointerup",this.handlePointerUp),rt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),be(this.updatePoint)}}function fs(e,t){return t?{point:t(e.point)}:e}function cr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ps({point:e},t){return{point:e,delta:cr(e,Ci(t)),offset:cr(e,vu(t)),velocity:bu(t,.1)}}function vu(e){return e[0]}function Ci(e){return e[e.length-1]}function bu(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const r=Ci(e);for(;s>=0&&(n=e[s],!(r.timestamp-n.timestamp>he(t)));)s--;if(!n)return{x:0,y:0};const o=fe(r.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const i={x:(r.x-n.x)/o,y:(r.y-n.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}const Mi=1e-4,wu=1-Mi,ju=1+Mi,Ai=.01,Tu=0-Ai,ku=0+Ai;function ee(e){return e.max-e.min}function Su(e,t,s){return Math.abs(e-t)<=s}function dr(e,t,s,n=.5){e.origin=n,e.originPoint=U(t.min,t.max,e.origin),e.scale=ee(s)/ee(t),e.translate=U(s.min,s.max,e.origin)-e.originPoint,(e.scale>=wu&&e.scale<=ju||isNaN(e.scale))&&(e.scale=1),(e.translate>=Tu&&e.translate<=ku||isNaN(e.translate))&&(e.translate=0)}function at(e,t,s,n){dr(e.x,t.x,s.x,n?n.originX:void 0),dr(e.y,t.y,s.y,n?n.originY:void 0)}function ur(e,t,s){e.min=s.min+t.min,e.max=e.min+ee(t)}function Nu(e,t,s){ur(e.x,t.x,s.x),ur(e.y,t.y,s.y)}function mr(e,t,s){e.min=t.min-s.min,e.max=e.min+ee(t)}function it(e,t,s){mr(e.x,t.x,s.x),mr(e.y,t.y,s.y)}function Cu(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?U(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?U(s,e,n.max):Math.min(e,s)),e}function hr(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function Mu(e,{top:t,left:s,bottom:n,right:r}){return{x:hr(e.x,s,r),y:hr(e.y,t,n)}}function fr(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function Au(e,t){return{x:fr(e.x,t.x),y:fr(e.y,t.y)}}function Pu(e,t){let s=.5;const n=ee(e),r=ee(t);return r>n?s=_e(t.min,t.max-n,e.min):n>r&&(s=_e(e.min,e.max-r,t.min)),ge(0,1,s)}function Du(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const _s=.35;function Eu(e=_s){return e===!1?e=0:e===!0&&(e=_s),{x:pr(e,"left","right"),y:pr(e,"top","bottom")}}function pr(e,t,s){return{min:gr(e,t),max:gr(e,s)}}function gr(e,t){return typeof e=="number"?e:e[t]||0}const xr=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ue=()=>({x:xr(),y:xr()}),yr=()=>({min:0,max:0}),$=()=>({x:yr(),y:yr()});function se(e){return[e("x"),e("y")]}function Pi({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function Vu({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ru(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function gs(e){return e===void 0||e===1}function $s({scale:e,scaleX:t,scaleY:s}){return!gs(e)||!gs(t)||!gs(s)}function Ce(e){return $s(e)||Di(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Di(e){return vr(e.x)||vr(e.y)}function vr(e){return e&&e!=="0%"}function Wt(e,t,s){const n=e-s,r=t*n;return s+r}function br(e,t,s,n,r){return r!==void 0&&(e=Wt(e,r,n)),Wt(e,s,n)+t}function Hs(e,t=0,s=1,n,r){e.min=br(e.min,t,s,n,r),e.max=br(e.max,t,s,n,r)}function Ei(e,{x:t,y:s}){Hs(e.x,t.translate,t.scale,t.originPoint),Hs(e.y,s.translate,s.scale,s.originPoint)}const wr=.999999999999,jr=1.0000000000001;function Lu(e,t,s,n=!1){const r=s.length;if(!r)return;t.x=t.y=1;let o,i;for(let l=0;l<r;l++){o=s[l],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&We(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Ei(e,i)),n&&Ce(o.latestValues)&&We(e,o.latestValues))}t.x<jr&&t.x>wr&&(t.x=1),t.y<jr&&t.y>wr&&(t.y=1)}function ze(e,t){e.min=e.min+t,e.max=e.max+t}function Tr(e,t,s,n,r=.5){const o=U(e.min,e.max,r);Hs(e,t,s,o,n)}function We(e,t){Tr(e.x,t.x,t.scaleX,t.scale,t.originX),Tr(e.y,t.y,t.scaleY,t.scale,t.originY)}function Vi(e,t){return Pi(Ru(e.getBoundingClientRect(),t))}function Iu(e,t,s){const n=Vi(e,s),{scroll:r}=t;return r&&(ze(n.x,r.offset.x),ze(n.y,r.offset.y)),n}const Ri=({current:e})=>e?e.ownerDocument.defaultView:null,Bu=new WeakMap;class Ou{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(vt(u).point)},o=(u,m)=>{const{drag:h,dragPropagation:f,onDragStart:x}=this.getProps();if(h&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Dc(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),se(v=>{let b=this.getAxisMotionValue(v).get()||0;if(ce.test(b)){const{projection:j}=this.visualElement;if(j&&j.layout){const g=j.layout.layoutBox[v];g&&(b=ee(g)*(parseFloat(b)/100))}}this.originPoint[v]=b}),x&&O.postRender(()=>x(u,m)),Ls(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},i=(u,m)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:x,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=m;if(f&&this.currentDirection===null){this.currentDirection=Fu(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),y&&y(u,m)},l=(u,m)=>this.stop(u,m),c=()=>se(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Ni(t,{onSessionStart:r,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Ri(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=s;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&O.postRender(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:r}=this.getProps();if(!n||!Mt(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=Cu(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;s&&Oe(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&r?this.constraints=Mu(r.layoutBox,s):this.constraints=!1,this.elastic=Eu(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&se(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Du(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Oe(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=Iu(n,r.root,this.visualElement.getTransformPagePoint());let i=Au(r.layout.layoutBox,o);if(s){const l=s(Vu(i));this.hasMutatedConstraints=!!l,l&&(i=Pi(l))}return i}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=se(u=>{if(!Mt(u,s,this.currentDirection))return;let m=c&&c[u]||{};i&&(m={min:0,max:0});const h=r?200:1e6,f=r?40:1e7,x={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return Ls(this.visualElement,t),n.start(Dn(t,n,0,s,this.visualElement,!1))}stopAnimation(){se(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){se(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[s];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){se(s=>{const{drag:n}=this.getProps();if(!Mt(s,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(s);if(r&&r.layout){const{min:i,max:l}=r.layout.layoutBox[s];o.set(t[s]-U(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Oe(s)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};se(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();r[i]=Pu({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),se(i=>{if(!Mt(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:d}=this.constraints[i];l.set(U(c,d,r[i]))})}addListeners(){if(!this.visualElement.current)return;Bu.set(this.visualElement,this);const t=this.visualElement.current,s=rt(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Oe(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),O.read(n);const i=ut(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(se(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{i(),s(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=_s,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Mt(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Fu(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Uu extends Se{constructor(t){super(t),this.removeGroupControls=J,this.removeListeners=J,this.controls=new Ou(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||J}unmount(){this.removeGroupControls(),this.removeListeners()}}const kr=e=>(t,s)=>{e&&O.postRender(()=>e(t,s))};class zu extends Se{constructor(){super(...arguments),this.removePointerDownListener=J}onPointerDown(t){this.session=new Ni(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ri(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:kr(t),onStart:kr(s),onMove:n,onEnd:(o,i)=>{delete this.session,r&&O.postRender(()=>r(o,i))}}}mount(){this.removePointerDownListener=rt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sr(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ge={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(M.test(e))e=parseFloat(e);else return e;const s=Sr(e,t.target.x),n=Sr(e,t.target.y);return`${s}% ${n}%`}},Wu={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,r=we.parse(e);if(r.length>5)return n;const o=we.createTransformer(e),i=typeof r[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;r[0+i]/=l,r[1+i]/=c;const d=U(l,c,.5);return typeof r[2+i]=="number"&&(r[2+i]/=d),typeof r[3+i]=="number"&&(r[3+i]/=d),o(r)}};class _u extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=t;dc($u),o&&(s.group&&s.group.add(o),n&&n.register&&r&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Vt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:r,isPresent:o}=this.props,i=n.projection;return i&&(i.isPresent=o,r||t.layoutDependency!==s||s===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||O.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),an.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Li(e){const[t,s]=ya(),n=p.useContext(Xs);return a.jsx(_u,{...e,layoutGroup:n,switchLayoutGroup:p.useContext(Sa),isPresent:t,safeToRemove:s})}const $u={borderRadius:{...Ge,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomLeftRadius:Ge,borderBottomRightRadius:Ge,boxShadow:Wu};function Hu(e,t,s){const n=Q(e)?e:ct(e);return n.start(Dn("",n,t,s)),n.animation}function Yu(e){return e instanceof SVGElement&&e.tagName!=="svg"}const qu=(e,t)=>e.depth-t.depth;class Ku{constructor(){this.children=[],this.isDirty=!1}add(t){bn(this.children,t),this.isDirty=!0}remove(t){wn(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qu),this.isDirty=!1,this.children.forEach(t)}}function Gu(e,t){const s=de.now(),n=({timestamp:r})=>{const o=r-s;o>=t&&(be(n),e(o-t))};return O.read(n,!0),()=>be(n)}const Ii=["TopLeft","TopRight","BottomLeft","BottomRight"],Xu=Ii.length,Nr=e=>typeof e=="string"?parseFloat(e):e,Cr=e=>typeof e=="number"||M.test(e);function Qu(e,t,s,n,r,o){r?(e.opacity=U(0,s.opacity!==void 0?s.opacity:1,Zu(n)),e.opacityExit=U(t.opacity!==void 0?t.opacity:1,0,Ju(n))):o&&(e.opacity=U(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let i=0;i<Xu;i++){const l=`border${Ii[i]}Radius`;let c=Mr(t,l),d=Mr(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Cr(c)===Cr(d)?(e[l]=Math.max(U(Nr(c),Nr(d),n),0),(ce.test(d)||ce.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=U(t.rotate||0,s.rotate||0,n))}function Mr(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Zu=Bi(0,.5,ti),Ju=Bi(.5,.95,J);function Bi(e,t,s){return n=>n<e?0:n>t?1:s(_e(e,t,n))}function Ar(e,t){e.min=t.min,e.max=t.max}function te(e,t){Ar(e.x,t.x),Ar(e.y,t.y)}function Pr(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Dr(e,t,s,n,r){return e-=t,e=Wt(e,1/s,n),r!==void 0&&(e=Wt(e,1/r,n)),e}function em(e,t=0,s=1,n=.5,r,o=e,i=e){if(ce.test(t)&&(t=parseFloat(t),t=U(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=U(o.min,o.max,n);e===o&&(l-=t),e.min=Dr(e.min,t,s,l,r),e.max=Dr(e.max,t,s,l,r)}function Er(e,t,[s,n,r],o,i){em(e,t[s],t[n],t[r],t.scale,o,i)}const tm=["x","scaleX","originX"],sm=["y","scaleY","originY"];function Vr(e,t,s,n){Er(e.x,t,tm,s?s.x:void 0,n?n.x:void 0),Er(e.y,t,sm,s?s.y:void 0,n?n.y:void 0)}function Rr(e){return e.translate===0&&e.scale===1}function Oi(e){return Rr(e.x)&&Rr(e.y)}function Lr(e,t){return e.min===t.min&&e.max===t.max}function nm(e,t){return Lr(e.x,t.x)&&Lr(e.y,t.y)}function Ir(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Fi(e,t){return Ir(e.x,t.x)&&Ir(e.y,t.y)}function Br(e){return ee(e.x)/ee(e.y)}function Or(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rm{constructor(){this.members=[]}add(t){bn(this.members,t),t.scheduleRender()}remove(t){if(wn(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(r=>t===r);if(s===0)return!1;let n;for(let r=s;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function am(e,t,s){let n="";const r=e.x.translate/t.x,o=e.y.translate/t.y,i=(s==null?void 0:s.z)||0;if((r||o||i)&&(n=`translate3d(${r}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:h,skewX:f,skewY:x}=s;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),m&&(n+=`rotateX(${m}deg) `),h&&(n+=`rotateY(${h}deg) `),f&&(n+=`skewX(${f}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Me={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},st=typeof window<"u"&&window.MotionDebug!==void 0,xs=["","X","Y","Z"],im={visibility:"hidden"},Fr=1e3;let om=0;function ys(e,t,s,n){const{latestValues:r}=t;r[e]&&(s[e]=r[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Ui(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Ka(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:r,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",O,!(r||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Ui(n)}function zi({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(i={},l=t==null?void 0:t()){this.id=om++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,st&&(Me.totalNodes=Me.resolvedTargetDeltas=Me.recalculatedProjection=0),this.nodes.forEach(dm),this.nodes.forEach(pm),this.nodes.forEach(gm),this.nodes.forEach(um),st&&window.MotionDebug.record(Me)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ku)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new jn),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Yu(i),this.instance=i;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=Gu(h,250),Vt.hasAnimatedSinceResize&&(Vt.hasAnimatedSinceResize=!1,this.nodes.forEach(zr))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||wm,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),j=!this.targetLayout||!Fi(this.targetLayout,x)||f,g=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,g);const T={...gn(y,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else h||zr(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,be(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xm),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ui(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ur);return}this.isUpdating||this.nodes.forEach(hm),this.isUpdating=!1,this.nodes.forEach(fm),this.nodes.forEach(lm),this.nodes.forEach(cm),this.clearAllSnapshots();const l=de.now();K.delta=ge(0,1e3/60,l-K.timestamp),K.timestamp=l,K.isProcessing=!0,ls.update.process(K),ls.preRender.process(K),ls.render.process(K),K.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,an.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mm),this.sharedNodes.forEach(ym)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,O.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){O.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Oi(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;i&&(l||Ce(this.latestValues)||u)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),jm(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:l}=this.options;if(!l)return $();const c=l.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(Tm))){const{scroll:u}=this.root;u&&(ze(c.x,u.offset.x),ze(c.y,u.offset.y))}return c}removeElementScroll(i){var l;const c=$();if(te(c,i),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:h}=u;u!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&te(c,i),ze(c.x,m.offset.x),ze(c.y,m.offset.y))}return c}applyTransform(i,l=!1){const c=$();te(c,i);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&We(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ce(u.latestValues)&&We(c,u.latestValues)}return Ce(this.latestValues)&&We(c,this.latestValues),c}removeTransform(i){const l=$();te(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ce(d.latestValues))continue;$s(d.latestValues)&&d.updateSnapshot();const u=$(),m=d.measurePageBox();te(u,m),Vr(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ce(this.latestValues)&&Vr(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==K.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(i||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=K.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$(),this.relativeTargetOrigin=$(),it(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),te(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$(),this.targetWithTransforms=$()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nu(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):te(this.target,this.layout.layoutBox),Ei(this.target,this.targetDelta)):te(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$(),this.relativeTargetOrigin=$(),it(this.relativeTargetOrigin,this.target,f.target),te(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}st&&Me.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$s(this.parent.latestValues)||Di(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===K.timestamp&&(d=!1),d)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;te(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Lu(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=$());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pr(this.prevProjectionDelta.x,this.projectionDelta.x),Pr(this.prevProjectionDelta.y,this.projectionDelta.y)),at(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Or(this.projectionDelta.x,this.prevProjectionDelta.x)||!Or(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),st&&Me.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ue(),this.projectionDelta=Ue(),this.projectionDeltaWithTransform=Ue()}setAnimationOrigin(i,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=Ue();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=$(),f=c?c.source:void 0,x=this.layout?this.layout.source:void 0,y=f!==x,v=this.getStack(),b=!v||v.members.length<=1,j=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(bm));this.animationProgress=0;let g;this.mixTargetDelta=T=>{const w=T/1e3;Wr(m.x,i.x,w),Wr(m.y,i.y,w),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(it(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vm(this.relativeTarget,this.relativeTargetOrigin,h,w),g&&nm(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=$()),te(g,this.relativeTarget)),y&&(this.animationValues=u,Qu(u,d,this.latestValues,w,j,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(be(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=O.update(()=>{Vt.hasAnimatedSinceResize=!0,this.currentAnimation=Hu(0,Fr,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fr),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=i;if(!(!l||!c||!d)){if(this!==i&&this.layout&&d&&Wi(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||$();const m=ee(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+m;const h=ee(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}te(l,c),We(l,u),at(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new rm),this.sharedNodes.get(i).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&ys("z",i,d,this.animationValues);for(let u=0;u<xs.length;u++)ys(`rotate${xs[u]}`,i,d,this.animationValues),ys(`skew${xs[u]}`,i,d,this.animationValues);i.render();for(const u in d)i.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return im;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Dt(i==null?void 0:i.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Dt(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Ce(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=am(this.projectionDeltaWithTransform,this.treeScale,h),u&&(d.transform=u(h,d.transform));const{x:f,y:x}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${x.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Bt){if(h[y]===void 0)continue;const{correct:v,applyTo:b}=Bt[y],j=d.transform==="none"?h[y]:v(h[y],m);if(b){const g=b.length;for(let T=0;T<g;T++)d[b[T]]=j}else d[y]=j}return this.options.layoutId&&(d.pointerEvents=m===this?Dt(i==null?void 0:i.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Ur),this.root.sharedNodes.clear()}}}function lm(e){e.updateLayout()}function cm(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:o}=e.options,i=s.source!==e.layout.source;o==="size"?se(m=>{const h=i?s.measuredBox[m]:s.layoutBox[m],f=ee(h);h.min=n[m].min,h.max=h.min+f}):Wi(o,s.layoutBox,n)&&se(m=>{const h=i?s.measuredBox[m]:s.layoutBox[m],f=ee(n[m]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+f)});const l=Ue();at(l,n,s.layoutBox);const c=Ue();i?at(c,e.applyTransform(r,!0),s.measuredBox):at(c,n,s.layoutBox);const d=!Oi(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:f}=m;if(h&&f){const x=$();it(x,s.layoutBox,h.layoutBox);const y=$();it(y,n,f.layoutBox),Fi(x,y)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=x,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function dm(e){st&&Me.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function um(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mm(e){e.clearSnapshot()}function Ur(e){e.clearMeasurements()}function hm(e){e.isLayoutDirty=!1}function fm(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zr(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pm(e){e.resolveTargetDelta()}function gm(e){e.calcProjection()}function xm(e){e.resetSkewAndRotation()}function ym(e){e.removeLeadSnapshot()}function Wr(e,t,s){e.translate=U(t.translate,0,s),e.scale=U(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function _r(e,t,s,n){e.min=U(t.min,s.min,n),e.max=U(t.max,s.max,n)}function vm(e,t,s,n){_r(e.x,t.x,s.x,n),_r(e.y,t.y,s.y,n)}function bm(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wm={duration:.45,ease:[.4,0,.1,1]},$r=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Hr=$r("applewebkit/")&&!$r("chrome/")?Math.round:J;function Yr(e){e.min=Hr(e.min),e.max=Hr(e.max)}function jm(e){Yr(e.x),Yr(e.y)}function Wi(e,t,s){return e==="position"||e==="preserve-aspect"&&!Su(Br(t),Br(s),.2)}function Tm(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const km=zi({attachResizeListener:(e,t)=>ut(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vs={current:void 0},_i=zi({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vs.current){const e=new km({});e.mount(window),e.setOptions({layoutScroll:!0}),vs.current=e}return vs.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Sm={pan:{Feature:zu},drag:{Feature:Uu,ProjectionNode:_i,MeasureLayout:Li}};function qr(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const r="onHover"+s,o=n[r];o&&O.postRender(()=>o(t,vt(t)))}class Nm extends Se{mount(){const{current:t}=this.node;t&&(this.unmount=Nc(t,s=>(qr(this.node,s,"Start"),n=>qr(this.node,n,"End"))))}unmount(){}}class Cm extends Se{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yt(ut(this.node.current,"focus",()=>this.onFocus()),ut(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kr(e,t,s){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const r="onTap"+(s==="End"?"":s),o=n[r];o&&O.postRender(()=>o(t,vt(t)))}class Mm extends Se{mount(){const{current:t}=this.node;t&&(this.unmount=Pc(t,s=>(Kr(this.node,s,"Start"),(n,{success:r})=>Kr(this.node,n,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ys=new WeakMap,bs=new WeakMap,Am=e=>{const t=Ys.get(e.target);t&&t(e)},Pm=e=>{e.forEach(Am)};function Dm({root:e,...t}){const s=e||document;bs.has(s)||bs.set(s,{});const n=bs.get(s),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(Pm,{root:e,...t})),n[r]}function Em(e,t,s){const n=Dm(t);return Ys.set(e,s),n.observe(e),()=>{Ys.delete(e),n.unobserve(e)}}const Vm={some:0,all:1};class Rm extends Se{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:r="some",once:o}=t,i={root:s?s.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:Vm[r]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=d?u:m;h&&h(c)};return Em(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(Lm(t,s))&&this.startObserver()}unmount(){}}function Lm({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Im={inView:{Feature:Rm},tap:{Feature:Mm},focus:{Feature:Cm},hover:{Feature:Nm}},Bm={layout:{ProjectionNode:_i,MeasureLayout:Li}},qs={current:null},$i={current:!1};function Om(){if($i.current=!0,!!Js)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>qs.current=e.matches;e.addListener(t),t()}else qs.current=!1}const Fm=[...pi,X,we],Um=e=>Fm.find(fi(e)),Gr=new WeakMap;function zm(e,t,s){for(const n in t){const r=t[n],o=s[n];if(Q(r))e.addValue(n,r);else if(Q(o))e.addValue(n,ct(r,{owner:e}));else if(o!==r)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(r):i.hasAnimated||i.set(r)}else{const i=e.getStaticValue(n);e.addValue(n,ct(i!==void 0?i:r,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const Xr=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wm{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=de.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,O.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=i;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Zt(s),this.isVariantNode=Ta(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in h){const x=h[f];c[f]!==void 0&&Q(x)&&x.set(c[f],!1)}}mount(t){this.current=t,Gr.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),$i.current||Om(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qs.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Gr.delete(this.current),this.projection&&this.projection.unmount(),be(this.notifyUpdate),be(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Re.has(t),r=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&O.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{r(),o(),i&&i(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $e){const s=$e[t];if(!s)continue;const{isEnabled:n,Feature:r}=s;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Xr.length;n++){const r=Xr[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,i=t[o];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=zm(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=ct(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){var n;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(mi(r)||ni(r))?r=parseFloat(r):!Um(r)&&we.test(s)&&(r=ci(t,s)),this.setBaseTarget(t,Q(r)?r.get():r)),Q(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=ln(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);i&&(r=i[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Q(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new jn),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Hi extends Wm{constructor(){super(...arguments),this.KeyframeResolver=gi}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Q(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function _m(e){return window.getComputedStyle(e)}class $m extends Hi{constructor(){super(...arguments),this.type="html",this.renderInstance=Ea}readValueFromInstance(t,s){if(Re.has(s)){const n=Cn(s);return n&&n.default||0}else{const n=_m(t),r=(Aa(s)?n.getPropertyValue(s):n[s])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Vi(t,s)}build(t,s,n){un(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return pn(t,s,n)}}class Hm extends Hi{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Re.has(s)){const n=Cn(s);return n&&n.default||0}return s=Va.has(s)?s:rn(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return Ia(t,s,n)}build(t,s,n){mn(t,s,this.isSVGTag,n.transformTemplate)}renderInstance(t,s,n,r){Ra(t,s,n,r)}mount(t){this.isSVGTag=fn(t.tagName),super.mount(t)}}const Ym=(e,t)=>on(e)?new Hm(t):new $m(t,{allowProjection:e!==p.Fragment}),qm=vc({...gu,...Im,...Sm,...Bm},Ym),N=Rl(qm);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Km={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,t)=>{const s=p.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:c,...d},u)=>p.createElement("svg",{ref:u,...Km,width:r,height:r,stroke:n,strokeWidth:i?Number(o)*24/Number(r):o,className:["lucide",`lucide-${Gm(e)}`,l].join(" "),...d},[...t.map(([m,h])=>p.createElement(m,h)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=F("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=F("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=F("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=F("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=F("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=F("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=F("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=F("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=F("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=F("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=F("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=F("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=F("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jr=()=>{const e=Te(),[t,s]=p.useState(0),[n,r]=p.useState(!1),o=()=>{const i=t+1;s(i),i===3&&(r(!0),s(0))};return n?a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-indigo-50 to-blue-100 dark:from-slate-900 dark:to-slate-800 flex flex-col items-center justify-center p-4",children:[a.jsxs(N.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-violet-600 to-blue-600",children:"Admin & Security"}),a.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 mt-3 max-w-md",children:"Access restricted areas"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6 w-full max-w-md",children:[a.jsxs(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-primary text-lg py-5 flex-1",onClick:()=>e("/admin-login"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[a.jsx(ss,{size:24}),a.jsx("span",{className:"font-medium",children:"Admin Login"})]}),a.jsxs(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-secondary text-lg py-5 flex-1",onClick:()=>e("/security-login"),initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[a.jsx(ht,{size:24}),a.jsx("span",{className:"font-medium",children:"Security Login"})]})]}),a.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"mt-8 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200",onClick:()=>r(!1),children:"Back to main screen"})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-indigo-50 to-blue-100 dark:from-slate-900 dark:to-slate-800 flex flex-col items-center justify-center p-4",children:[a.jsxs(N.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-violet-600 to-blue-600",children:"Campus Bus Tracker"}),a.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 mt-3 max-w-md cursor-pointer",onClick:o,children:"Live bus locations & ETAs for college students ðŸš"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6 w-full max-w-md",children:[a.jsxs(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-primary text-lg py-5 flex-1",onClick:()=>e("/student-dashboard"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[a.jsx(wt,{size:24}),a.jsx("span",{className:"font-medium",children:"Student"})]}),a.jsxs(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-secondary text-lg py-5 flex-1",onClick:()=>e("/driver-login"),initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[a.jsx(oe,{size:24}),a.jsx("span",{className:"font-medium",children:"Driver"})]})]}),a.jsxs(N.div,{className:"mt-16 text-center text-sm text-slate-500 dark:text-slate-400",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.8},children:[a.jsxs("p",{children:["ðŸ“š Made possible by ",a.jsx("a",{href:"https://doutly.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Doutly"})," â€” Where Curiosity Meets ðŸ’° Opportunity"]}),a.jsx("p",{className:"mt-1 text-red-500",children:"CSE C Sec Batch 23-24"}),a.jsx("p",{className:"mt-1",children:"."})]})]})},ah=()=>{const e=Te(),{login:t}=pt(),[s,n]=p.useState(""),[r,o]=p.useState(""),[i,l]=p.useState(""),[c,d]=p.useState(!1),u=async m=>{m.preventDefault(),d(!0),l("");try{await t(s,r),e("/driver-dashboard/1")}catch{l("Invalid email or password. Please check your credentials.")}finally{d(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 flex flex-col items-center justify-center p-4",children:a.jsxs(N.div,{className:"w-full max-w-md card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-5 rounded-t-xl",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-white mr-4",onClick:()=>e("/"),children:a.jsx(bt,{size:24})}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Driver Login"})]})}),a.jsxs("div",{className:"p-8",children:[i&&a.jsx(N.div,{className:"bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg mb-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:i}),a.jsxs("form",{onSubmit:u,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(wt,{size:20,className:"text-gray-400"})}),a.jsx("input",{id:"email",type:"email",value:s,onChange:m=>n(m.target.value),className:"input pl-10",placeholder:"driver@example.com",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ss,{size:20,className:"text-gray-400"})}),a.jsx("input",{id:"password",type:"password",value:r,onChange:m=>o(m.target.value),className:"input pl-10",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0})]})]}),a.jsx(N.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:c,className:`btn btn-primary w-full mt-8 ${c?"opacity-70 cursor-not-allowed":""}`,children:c?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsx(oe,{size:20,className:"mr-2"}),"Sign in"]})})]})]})]})})},ih=()=>{const e=Te(),{login:t}=pt(),[s,n]=p.useState(""),[r,o]=p.useState(""),[i,l]=p.useState(""),[c,d]=p.useState(!1),u=async m=>{m.preventDefault(),d(!0),l("");try{await t(s,r),e("/admin")}catch{l("Invalid email or password. Please check your credentials.")}finally{d(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 flex flex-col items-center justify-center p-4",children:a.jsxs(N.div,{className:"w-full max-w-md card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-5 rounded-t-xl",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-white mr-4",onClick:()=>e("/"),children:a.jsx(bt,{size:24})}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Login"})]})}),a.jsxs("div",{className:"p-8",children:[i&&a.jsx(N.div,{className:"bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg mb-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:i}),a.jsxs("form",{onSubmit:u,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(wt,{size:20,className:"text-gray-400"})}),a.jsx("input",{id:"email",type:"email",value:s,onChange:m=>n(m.target.value),className:"input pl-10",placeholder:"admin@example.com",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ss,{size:20,className:"text-gray-400"})}),a.jsx("input",{id:"password",type:"password",value:r,onChange:m=>o(m.target.value),className:"input pl-10",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0})]})]}),a.jsx(N.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:c,className:`btn btn-primary w-full mt-8 ${c?"opacity-70 cursor-not-allowed":""}`,children:c?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsx(ht,{size:20,className:"mr-2"}),"Sign in"]})})]}),a.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-2",children:"Demo Admin Credentials:"}),a.jsxs("p",{className:"mb-1",children:["Email: ",a.jsx("span",{className:"font-mono",children:Ms.email})]}),a.jsxs("p",{children:["Password: ",a.jsx("span",{className:"font-mono",children:Ms.password})]})]})]})]})})},oh=()=>{const e=Te(),{login:t,authError:s}=pt(),[n,r]=p.useState(""),[o,i]=p.useState(""),[l,c]=p.useState(!1),d=async u=>{u.preventDefault(),c(!0);try{await t(n,o),e("/security")}catch{if(n.toLowerCase()===Je.email.toLowerCase()&&o===Je.password){sessionStorage.setItem("securityLogin","true"),e("/security");return}}finally{c(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 flex flex-col items-center justify-center p-4",children:a.jsxs(N.div,{className:"w-full max-w-md card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-5 rounded-t-xl",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-white mr-4",onClick:()=>e("/"),children:a.jsx(bt,{size:24})}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Security Login"})]})}),a.jsxs("div",{className:"p-8",children:[s&&a.jsx(N.div,{className:"bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg mb-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:s}),a.jsxs("form",{onSubmit:d,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(wt,{size:20,className:"text-gray-400"})}),a.jsx("input",{id:"email",type:"email",value:n,onChange:u=>r(u.target.value),className:"input pl-10",placeholder:"security@example.com",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ss,{size:20,className:"text-gray-400"})}),a.jsx("input",{id:"password",type:"password",value:o,onChange:u=>i(u.target.value),className:"input pl-10",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0})]})]}),a.jsx(N.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:l,className:`btn btn-primary w-full mt-8 ${l?"opacity-70 cursor-not-allowed":""}`,children:l?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsx(ht,{size:20,className:"mr-2"}),"Sign in"]})})]}),a.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-2",children:"Security Personnel Credentials:"}),a.jsxs("p",{className:"mb-1",children:["Email: ",a.jsx("span",{className:"font-mono",children:Je.email})]}),a.jsxs("p",{children:["Password: ",a.jsx("span",{className:"font-mono",children:Je.password})]})]})]})]})})},lh=({onSelect:e,gridSize:t=5,animate:s=!0})=>{const{selectedBus:n,setSelectedBus:r}=Ye(),o=l=>{const c=typeof l=="string"&&l==="15 (BITM Variant)"?17:typeof l=="string"?parseInt(l):l;r(c),e&&e(l)},i=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,"15 BITM",16,20];return a.jsxs("div",{className:"w-full max-w-md mx-auto",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-center"}),a.jsx("div",{className:"grid grid-cols-4 gap-2 md:gap-3",children:i.map(l=>a.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`aspect-square flex items-center justify-center text-lg font-medium rounded-xl 
              ${typeof l=="string"&&l==="15 (BITM Variant)"&&n===17||typeof l=="number"&&n===l?"bg-gradient-to-r from-violet-500 to-purple-600 text-white shadow-lg":"bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300"} transition-all duration-200`,onClick:()=>o(l),initial:s?{opacity:0,y:20}:void 0,animate:s?{opacity:1,y:0}:void 0,transition:{duration:.3,delay:s?(typeof l=="number"?l:17)*.01:0},children:l},l))})]})},Qi=({route:e,currentStopIndex:t,eta:s})=>{const n=p.useMemo(()=>e.length>1?`calc(${Math.max(0,t*100/(e.length-1))}% - 12px)`:"0%",[e.length,t]),r=p.useMemo(()=>e.length>1?`calc(${t*100/(e.length-1)}% - 4px + 24px)`:"24px",[e.length,t]);return a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"relative flex flex-col space-y-1",children:[a.jsx("div",{className:"absolute left-3 top-6 bottom-6 w-1 bg-slate-200 dark:bg-slate-700 rounded-full"}),a.jsx(N.div,{className:"absolute left-3 top-6 w-1 bg-green-500 rounded-full z-10",initial:{height:0},animate:{height:n},transition:{duration:.5}}),t>=0&&t<e.length&&e.length>0&&a.jsx(N.div,{className:"absolute left-0 z-20 text-amber-500",initial:{top:"24px"},animate:{top:r},transition:{duration:.8,type:"spring",stiffness:300,damping:30},children:a.jsx("span",{className:"text-xl",children:"ðŸšŒ"})}),e.map((o,i)=>{const l=i<t,c=i===t;return a.jsxs(N.div,{className:`grid-stop relative pl-8 py-3 ${l?"grid-stop-past":c?"grid-stop-current":"grid-stop-future"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:i*.05},children:[a.jsx("div",{className:`absolute left-2.5 top-4 w-2 h-2 rounded-full z-20 ${l?"bg-green-500":c?"bg-blue-500 animate-pulse-slow":"bg-slate-400 dark:bg-slate-600"}`}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"text-sm md:text-base font-medium",children:o.name}),a.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["ðŸ“… Scheduled: ",o.scheduledTime]}),o.completed&&o.actualTime&&a.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:["âœ… Arrived: ",o.actualTime]}),c&&s!==null&&a.jsx(en,{children:a.jsxs(N.div,{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},children:["â±ï¸ ETA: ",s," min"]})}),c&&a.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium mt-1",children:"ðŸšŒ Live: En route"})]})]},i)})]})})},ch=()=>{const e=Te(),{buses:t,selectedBus:s,setSelectedBus:n,firebaseConnected:r,firebaseError:o}=Ye(),[i,l]=p.useState(null);p.useEffect(()=>{var f;if(!s)return;const m=t[s];if(!m)return;const h=(f=m.notifications)==null?void 0:f[0];if(h){l(h.message);const x=setTimeout(()=>{l(null)},3e3);return()=>clearTimeout(x)}},[t,s]);const c=s?t[s]:null,d=s?pa.find(m=>m.bus===s):null;return(()=>{var m,h;return!t||Object.keys(t).length===0?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-500 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading bus data..."})]})}):a.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[a.jsx("header",{className:"bg-white dark:bg-slate-800 shadow-sm sticky top-0 z-10",children:a.jsx("div",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"mr-4 text-slate-600 dark:text-slate-300",onClick:()=>e("/"),children:a.jsx(bt,{size:24})}),a.jsx("div",{children:a.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Student Dashboard"})})]}),s&&a.jsxs(N.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center bg-gradient-to-r from-violet-500 to-purple-600 text-white px-4 py-2 rounded-full shadow-lg",children:[a.jsx(oe,{size:18,className:"mr-2"}),a.jsxs("span",{className:"font-medium",children:["Bus #",s===17?"15 (BITM Variant)":s]})]})]})})}),a.jsx(en,{children:i&&a.jsx(N.div,{className:"fixed top-24 left-1/2 transform -translate-x-1/2 z-50 bg-gradient-to-r from-violet-500 to-purple-600 text-white px-6 py-3 rounded-lg shadow-lg",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.3},children:a.jsxs("p",{className:"text-center font-medium",children:["ðŸ”” ",i]})})}),a.jsx("main",{className:"px-6 pb-8",children:s?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:c&&a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Bus Route"}),a.jsxs("div",{className:"flex gap-3",children:[c.eta!==null&&a.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-4 py-2 rounded-full text-sm font-medium animate-pulse",children:["ETA: ",c.eta," min"]}),a.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 px-3 py-2 rounded-full text-xs",children:"Live"})]})]}),a.jsx(Qi,{route:c.route,currentStopIndex:c.currentStopIndex,eta:c.eta}),a.jsx("div",{className:"mt-6 p-4 bg-slate-50 dark:bg-slate-700 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Current Status:"}),a.jsx("p",{className:"font-medium",children:c.currentStopIndex<c.route.length?`En route to ${((m=c.route[c.currentStopIndex])==null?void 0:m.name)||"Unknown"}`:"Route completed"}),c.currentStopIndex<c.route.length-1&&a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-300 mt-1",children:["Next stop: ",((h=c.route[c.currentStopIndex+1])==null?void 0:h.name)||"Unknown"]})]}),a.jsx(ts,{size:20,className:"text-slate-400"})]})})]})}),a.jsxs("div",{className:"space-y-6",children:[d&&a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-700",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Driver Information"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:d.name}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:d.phone})]}),a.jsxs("button",{className:"btn btn-primary py-2 px-4",onClick:()=>window.location.href=`tel:${d.phone}`,children:[a.jsx(Jm,{size:18,className:"mr-2"}),a.jsx("span",{children:"Contact"})]})]})]}),a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),a.jsx("div",{className:"space-y-3",children:a.jsxs("button",{className:"w-full btn btn-secondary py-3",onClick:()=>n(null),children:[a.jsx(eh,{size:18,className:"mr-2"}),"Change Bus"]})})]}),c&&a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Bus Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Students"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:c.studentCount||0})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Stops"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:c.route.length})]})]})]})]})]}):a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto card",children:[a.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Select Your Bus"}),a.jsx(lh,{})]})}),a.jsx("footer",{className:"py-6 text-center text-sm text-slate-500 dark:text-slate-400 border-t border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"px-6",children:[a.jsxs("p",{children:["ðŸ“š Made possible by ",a.jsx("a",{href:"https://doutly.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Doutly"})," â€” Where Curiosity Meets ðŸ’° Opportunity"]}),a.jsx("p",{className:"text-red-500 mt-1",children:"CSE C Sec Batch 23-24"}),a.jsx("p",{className:"mt-1",children:"."})]})})]})})()},dh=({onDone:e,onWrong:t,onEta:s,onReset:n,stopName:r,currentTime:o,isRouteCompleted:i=!1})=>a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:i?"Route Completed!":`Current Stop: ${r}`}),a.jsx("span",{className:"text-sm text-slate-500",children:o})]}),!i&&a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-success flex-1",onClick:e,children:[a.jsx(Xm,{size:20}),a.jsx("span",{children:"Done"})]}),a.jsxs(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-danger flex-1",onClick:t,children:[a.jsx(nh,{size:20}),a.jsx("span",{children:"Wrong"})]})]}),a.jsx("div",{className:"flex gap-2 mt-2",children:a.jsxs("h4",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-1 flex items-center",children:[a.jsx(ts,{size:16,className:"mr-1"})," Set ETA to Next Stop:"]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-outline py-2",onClick:()=>s(2),children:"2ï¸âƒ£ min"}),a.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-outline py-2",onClick:()=>s(5),children:"5ï¸âƒ£ min"}),a.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-outline py-2",onClick:()=>s(10),children:"ðŸ”Ÿ min"})]})]}),i&&a.jsx("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:a.jsx("p",{className:"text-green-600 dark:text-green-400 font-medium",children:"ðŸŽ‰ All stops completed successfully!"})})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-warning",onClick:n,children:"ðŸ§¹ Reset Route"})})]}),uh=({requests:e,notifications:t,studentCount:s,busId:n})=>{const[r,o]=p.useState(""),[i,l]=p.useState(null),d=(m=>{const h={1:[{cardId:"1",name:"Alice Johnson",validDate:"2025-12-31"},{cardId:"12",name:"Bob Smith",validDate:"2025-11-30"},{cardId:"123",name:"Charlie Brown",validDate:"2026-01-15"},{cardId:"1234",name:"Diana Miller",validDate:"2025-10-20"},{cardId:"12345",name:"Edward Wilson",validDate:"2026-03-10"}],2:[{cardId:"2",name:"Fiona Davis",validDate:"2025-12-31"},{cardId:"23",name:"George Thompson",validDate:"2025-11-30"},{cardId:"234",name:"Helen Garcia",validDate:"2026-01-15"},{cardId:"2345",name:"Ian Martinez",validDate:"2025-10-20"},{cardId:"23456",name:"Julia Anderson",validDate:"2026-03-10"}],3:[{cardId:"3",name:"Kevin Lee",validDate:"2025-12-31"},{cardId:"34",name:"Laura Clark",validDate:"2025-11-30"},{cardId:"345",name:"Michael Rodriguez",validDate:"2026-01-15"},{cardId:"3456",name:"Nina Lewis",validDate:"2025-10-20"},{cardId:"34567",name:"Oliver Walker",validDate:"2026-03-10"}],4:[{cardId:"4",name:"Paul Hall",validDate:"2025-12-31"},{cardId:"45",name:"Queen King",validDate:"2025-11-30"},{cardId:"456",name:"Robert Wright",validDate:"2026-01-15"},{cardId:"4567",name:"Sarah Young",validDate:"2025-10-20"},{cardId:"45678",name:"Thomas Scott",validDate:"2026-03-10"}],5:[{cardId:"5",name:"Uma Green",validDate:"2025-12-31"},{cardId:"56",name:"Victor Hall",validDate:"2025-11-30"},{cardId:"567",name:"Wendy Allen",validDate:"2026-01-15"},{cardId:"5678",name:"Xavier Nelson",validDate:"2025-10-20"},{cardId:"56789",name:"Yara Carter",validDate:"2026-03-10"}],0:[{cardId:"9",name:"Zack Moore",validDate:"2025-12-31"},{cardId:"98",name:"Amy Turner",validDate:"2025-11-30"},{cardId:"987",name:"Ben Parker",validDate:"2026-01-15"},{cardId:"9876",name:"Cara Evans",validDate:"2025-10-20"},{cardId:"98765",name:"Dan Phillips",validDate:"2026-03-10"}]};return h[m]||h[0]})(n),u=()=>{if(!r)return;if(!/^\d{1,5}$/.test(r)){l({name:"Invalid card ID",validDate:"Card ID must be 1-5 digits"});return}const m=d.find(h=>h.cardId===r);l(m?{name:m.name,validDate:m.validDate}:{name:"Student not found",validDate:""})};return a.jsxs("div",{className:"card h-full overflow-auto",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Bus Information"}),a.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg",children:a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm opacity-90",children:"Students on board"}),a.jsx("p",{className:"text-3xl font-bold",children:s||0})]}),a.jsx(wt,{size:32,className:"opacity-90"})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Search Student by Card ID"}),a.jsxs("div",{children:[a.jsx("input",{type:"text",value:r,onChange:m=>o(m.target.value),placeholder:"Enter card ID (1-5 digits)",className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),a.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"btn btn-primary",children:a.jsx(th,{size:16})})]}),i&&a.jsxs(N.div,{className:"mt-3 p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[a.jsx("p",{className:"font-medium",children:i.name}),i.validDate&&a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Valid until: ",i.validDate]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-md font-medium mb-3",children:"Students on this bus"}),a.jsx("div",{children:d.map((m,h)=>a.jsxs(N.div,{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg mb-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:h*.1},children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:m.name}),a.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:["ID: ",m.cardId]})]}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Valid until: ",m.validDate]})]},h))})]})]})},mh=()=>{const e=Te(),{busId:t}=co(),{buses:s,selectedBus:n,setSelectedBus:r,moveToNextStop:o,moveToPreviousStop:i,setEta:l,resetBusProgress:c,getFormattedTime:d,firebaseConnected:u,firebaseError:m,updateStudentCount:h}=Ye();p.useState(!1),p.useEffect(()=>{t&&r(t==="15 (BITM Variant)"?17:parseInt(t))},[t,r]);const f=async()=>{e("/driver-login")};let x=null;t==="15 (BITM Variant)"?x=17:t&&(x=parseInt(t));const y=x!==null&&s?s[x]:null;return p.useEffect(()=>{m&&m.includes("Quota")&&V.error("Quota exceeded. Updates may be delayed. Please wait before making more changes.")},[m]),(()=>{var j;if(!s||Object.keys(s).length===0)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading bus data..."})]})});if(!x||!y)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:a.jsxs("div",{className:"text-center p-8 card",children:[a.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:x?"Bus Data Not Found":"Invalid Bus ID"}),a.jsx("button",{className:"btn btn-primary",onClick:()=>e("/driver-login"),children:"Return to Login"})]})});const b=((j=y.route[y.currentStopIndex])==null?void 0:j.name)||"Route Completed";return a.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[a.jsx("header",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-md sticky top-0 z-10",children:a.jsx("div",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"mr-4",onClick:()=>e("/"),children:a.jsx(bt,{size:24})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold",children:"Driver Dashboard"}),a.jsxs("p",{className:"text-blue-100",children:["Bus #",t==="15 (BITM Variant)"?"15 (BITM Variant)":x]})]})]}),a.jsxs(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn bg-red-500 hover:bg-red-600 text-white py-2 px-4",onClick:f,children:[a.jsx(sh,{size:18,className:"mr-2"}),"End Shift"]})]})})}),a.jsx("main",{className:"px-6 pb-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:a.jsx(Qi,{route:y.route,currentStopIndex:y.currentStopIndex,eta:y.eta})})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsx(dh,{onDone:()=>o(t||x||0),onWrong:()=>i(t||x||0),onEta:g=>l(t||x||0,g),onReset:()=>{confirm("Are you sure you want to reset all progress for this route?")&&c(t||x||0)},stopName:b,currentTime:d(),isRouteCompleted:y.currentStopIndex>=y.route.length})}),a.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:a.jsx(uh,{requests:y.etaRequests,notifications:y.notifications||[],studentCount:y.studentCount||0,busId:x||0})})]})]})}),a.jsx("footer",{className:"py-6 text-center text-sm text-slate-500 dark:text-slate-400 border-t border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"px-6",children:[a.jsxs("p",{children:["ðŸ“š Made possible by ",a.jsx("a",{href:"https://doutly.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Doutly"})," â€” Where Curiosity Meets ðŸ’° Opportunity"]}),a.jsx("p",{className:"text-red-500 mt-1",children:"CSE C Sec Batch 23-24"}),a.jsx("p",{className:"mt-1",children:"."})]})})]})})()},hh=()=>{const{buses:e,loading:t,firebaseConnected:s,firebaseError:n}=Ye(),[r,o]=p.useState(null),[i,l]=p.useState(new Date);if(p.useEffect(()=>{const d=setInterval(()=>{l(new Date)},6e4);return()=>clearInterval(d)},[]),p.useEffect(()=>{if(Object.keys(e).length>0)if(r){const d=e[r.id];d&&o(d)}else{const d=Object.values(e)[0];o(d)}},[e,r]),t)return a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const c=(d,u)=>{if(u<d.currentStopIndex)return"Arrived";if(u===d.currentStopIndex)return"Now";const h=(u-d.currentStopIndex)*2;if(d.eta!==null&&d.eta!==void 0){const x=u-d.currentStopIndex,v=d.eta/(d.route.length-d.currentStopIndex-1),b=Math.round(x*v),j=new Date(i.getTime()+b*6e4);return As(j)}const f=new Date(i.getTime()+h*6e4);return As(f)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:`flex items-center p-4 rounded-lg ${n?"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200":s?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200"}`,children:n?a.jsxs(a.Fragment,{children:[a.jsx(Yi,{size:20,className:"mr-2"}),a.jsxs("span",{children:["Firebase Error: ",n]})]}):s?a.jsxs(a.Fragment,{children:[a.jsx(Ks,{size:20,className:"mr-2"}),a.jsx("span",{children:"Connected to Firebase"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Xi,{size:20,className:"mr-2"}),a.jsx("span",{children:"Firebase connection failed - using local data"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Active Buses"}),a.jsx("div",{className:"space-y-3 max-h-[calc(100vh-200px)] overflow-y-auto",children:Object.values(e).map(d=>{var u;return a.jsxs(N.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(d),className:`p-4 rounded-lg cursor-pointer transition-colors ${(r==null?void 0:r.id)===d.id?"bg-blue-100 dark:bg-blue-900/30 border-l-4 border-blue-500":"bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg mr-3",children:a.jsx(oe,{size:20,className:"text-blue-500 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium",children:["Bus ",d.id]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:((u=d.route[d.currentStopIndex])==null?void 0:u.name)||"Route Started"})]})]}),a.jsx(Ki,{size:20,className:"text-blue-500"})]}),d.eta&&a.jsxs("div",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400",children:["ETA: ",d.eta," minutes"]})]},d.id)})})]}),a.jsxs("div",{className:"lg:col-span-2 card",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:r?`Bus ${r.id} Route`:"Route Visualization"}),a.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-lg h-[calc(100vh-200px)] overflow-y-auto",children:r?a.jsx("div",{className:"p-4",children:a.jsx("div",{className:"space-y-3",children:r.route.map((d,u)=>(c(r,u),a.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:u*.05},className:`p-4 rounded-lg text-left relative ${u<r.currentStopIndex?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":u===r.currentStopIndex?"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 border-l-4 border-blue-500":"bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-slate-200"}`,children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:d.name}),a.jsx("div",{className:"text-sm mt-1",children:d.scheduledTime})]})}),u<r.route.length-1&&a.jsx("div",{className:"absolute left-4 top-full h-3 w-0.5 bg-slate-400 dark:bg-slate-500"})]},u)))})}):a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Select a bus to view its route"})})})]})]})]})};function _t(e){"@babel/helpers - typeof";return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(e)}function je(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function q(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ae(e){q(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||_t(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function fh(e,t){q(2,arguments);var s=ae(e).getTime(),n=je(t);return new Date(s+n)}var ph={};function ns(){return ph}function gh(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function ea(e){q(1,arguments);var t=ae(e);return t.setHours(0,0,0,0),t}var Zi=6e4,Ji=36e5;function xh(e,t){q(2,arguments);var s=ea(e),n=ea(t);return s.getTime()===n.getTime()}function yh(e){return q(1,arguments),e instanceof Date||_t(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vh(e){if(q(1,arguments),!yh(e)&&typeof e!="number")return!1;var t=ae(e);return!isNaN(Number(t))}function bh(e,t){q(2,arguments);var s=je(t);return fh(e,-s)}var wh=864e5;function jh(e){q(1,arguments);var t=ae(e),s=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),r=s-n;return Math.floor(r/wh)+1}function $t(e){q(1,arguments);var t=1,s=ae(e),n=s.getUTCDay(),r=(n<t?7:0)+n-t;return s.setUTCDate(s.getUTCDate()-r),s.setUTCHours(0,0,0,0),s}function eo(e){q(1,arguments);var t=ae(e),s=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(s+1,0,4),n.setUTCHours(0,0,0,0);var r=$t(n),o=new Date(0);o.setUTCFullYear(s,0,4),o.setUTCHours(0,0,0,0);var i=$t(o);return t.getTime()>=r.getTime()?s+1:t.getTime()>=i.getTime()?s:s-1}function Th(e){q(1,arguments);var t=eo(e),s=new Date(0);s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0);var n=$t(s);return n}var kh=6048e5;function Sh(e){q(1,arguments);var t=ae(e),s=$t(t).getTime()-Th(t).getTime();return Math.round(s/kh)+1}function Ht(e,t){var s,n,r,o,i,l,c,d;q(1,arguments);var u=ns(),m=je((s=(n=(r=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&s!==void 0?s:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ae(e),f=h.getUTCDay(),x=(f<m?7:0)+f-m;return h.setUTCDate(h.getUTCDate()-x),h.setUTCHours(0,0,0,0),h}function to(e,t){var s,n,r,o,i,l,c,d;q(1,arguments);var u=ae(e),m=u.getUTCFullYear(),h=ns(),f=je((s=(n=(r=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(m+1,0,f),x.setUTCHours(0,0,0,0);var y=Ht(x,t),v=new Date(0);v.setUTCFullYear(m,0,f),v.setUTCHours(0,0,0,0);var b=Ht(v,t);return u.getTime()>=y.getTime()?m+1:u.getTime()>=b.getTime()?m:m-1}function Nh(e,t){var s,n,r,o,i,l,c,d;q(1,arguments);var u=ns(),m=je((s=(n=(r=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:u.firstWeekContainsDate)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:1),h=to(e,t),f=new Date(0);f.setUTCFullYear(h,0,m),f.setUTCHours(0,0,0,0);var x=Ht(f,t);return x}var Ch=6048e5;function Mh(e,t){q(1,arguments);var s=ae(e),n=Ht(s,t).getTime()-Nh(s,t).getTime();return Math.round(n/Ch)+1}function L(e,t){for(var s=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return s+n}var xe={y:function(t,s){var n=t.getUTCFullYear(),r=n>0?n:1-n;return L(s==="yy"?r%100:r,s.length)},M:function(t,s){var n=t.getUTCMonth();return s==="M"?String(n+1):L(n+1,2)},d:function(t,s){return L(t.getUTCDate(),s.length)},a:function(t,s){var n=t.getUTCHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,s){return L(t.getUTCHours()%12||12,s.length)},H:function(t,s){return L(t.getUTCHours(),s.length)},m:function(t,s){return L(t.getUTCMinutes(),s.length)},s:function(t,s){return L(t.getUTCSeconds(),s.length)},S:function(t,s){var n=s.length,r=t.getUTCMilliseconds(),o=Math.floor(r*Math.pow(10,n-3));return L(o,s.length)}},Be={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ah={G:function(t,s,n){var r=t.getUTCFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,s,n){if(s==="yo"){var r=t.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return xe.y(t,s)},Y:function(t,s,n,r){var o=to(t,r),i=o>0?o:1-o;if(s==="YY"){var l=i%100;return L(l,2)}return s==="Yo"?n.ordinalNumber(i,{unit:"year"}):L(i,s.length)},R:function(t,s){var n=eo(t);return L(n,s.length)},u:function(t,s){var n=t.getUTCFullYear();return L(n,s.length)},Q:function(t,s,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return L(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,s,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return L(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,s,n){var r=t.getUTCMonth();switch(s){case"M":case"MM":return xe.M(t,s);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,s,n){var r=t.getUTCMonth();switch(s){case"L":return String(r+1);case"LL":return L(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,s,n,r){var o=Mh(t,r);return s==="wo"?n.ordinalNumber(o,{unit:"week"}):L(o,s.length)},I:function(t,s,n){var r=Sh(t);return s==="Io"?n.ordinalNumber(r,{unit:"week"}):L(r,s.length)},d:function(t,s,n){return s==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):xe.d(t,s)},D:function(t,s,n){var r=jh(t);return s==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):L(r,s.length)},E:function(t,s,n){var r=t.getUTCDay();switch(s){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,s,n,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return L(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,s,n,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return L(i,s.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,s,n){var r=t.getUTCDay(),o=r===0?7:r;switch(s){case"i":return String(o);case"ii":return L(o,s.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,s,n){var r=t.getUTCHours(),o=r/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,s,n){var r=t.getUTCHours(),o;switch(r===12?o=Be.noon:r===0?o=Be.midnight:o=r/12>=1?"pm":"am",s){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,s,n){var r=t.getUTCHours(),o;switch(r>=17?o=Be.evening:r>=12?o=Be.afternoon:r>=4?o=Be.morning:o=Be.night,s){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,s,n){if(s==="ho"){var r=t.getUTCHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xe.h(t,s)},H:function(t,s,n){return s==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):xe.H(t,s)},K:function(t,s,n){var r=t.getUTCHours()%12;return s==="Ko"?n.ordinalNumber(r,{unit:"hour"}):L(r,s.length)},k:function(t,s,n){var r=t.getUTCHours();return r===0&&(r=24),s==="ko"?n.ordinalNumber(r,{unit:"hour"}):L(r,s.length)},m:function(t,s,n){return s==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):xe.m(t,s)},s:function(t,s,n){return s==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):xe.s(t,s)},S:function(t,s){return xe.S(t,s)},X:function(t,s,n,r){var o=r._originalDate||t,i=o.getTimezoneOffset();if(i===0)return"Z";switch(s){case"X":return sa(i);case"XXXX":case"XX":return Ae(i);case"XXXXX":case"XXX":default:return Ae(i,":")}},x:function(t,s,n,r){var o=r._originalDate||t,i=o.getTimezoneOffset();switch(s){case"x":return sa(i);case"xxxx":case"xx":return Ae(i);case"xxxxx":case"xxx":default:return Ae(i,":")}},O:function(t,s,n,r){var o=r._originalDate||t,i=o.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+ta(i,":");case"OOOO":default:return"GMT"+Ae(i,":")}},z:function(t,s,n,r){var o=r._originalDate||t,i=o.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+ta(i,":");case"zzzz":default:return"GMT"+Ae(i,":")}},t:function(t,s,n,r){var o=r._originalDate||t,i=Math.floor(o.getTime()/1e3);return L(i,s.length)},T:function(t,s,n,r){var o=r._originalDate||t,i=o.getTime();return L(i,s.length)}};function ta(e,t){var s=e>0?"-":"+",n=Math.abs(e),r=Math.floor(n/60),o=n%60;if(o===0)return s+String(r);var i=t;return s+String(r)+i+L(o,2)}function sa(e,t){if(e%60===0){var s=e>0?"-":"+";return s+L(Math.abs(e)/60,2)}return Ae(e,t)}function Ae(e,t){var s=t||"",n=e>0?"-":"+",r=Math.abs(e),o=L(Math.floor(r/60),2),i=L(r%60,2);return n+o+s+i}var na=function(t,s){switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},so=function(t,s){switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},Ph=function(t,s){var n=t.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return na(t,s);var i;switch(r){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;case"PPPP":default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",na(r,s)).replace("{{time}}",so(o,s))},Dh={p:so,P:Ph},Eh=["D","DD"],Vh=["YY","YYYY"];function Rh(e){return Eh.indexOf(e)!==-1}function Lh(e){return Vh.indexOf(e)!==-1}function ra(e,t,s){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ih={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bh=function(t,s,n){var r,o=Ih[t];return typeof o=="string"?r=o:s===1?r=o.one:r=o.other.replace("{{count}}",s.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ws(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.width?String(t.width):e.defaultWidth,n=e.formats[s]||e.formats[e.defaultWidth];return n}}var Oh={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fh={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Uh={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zh={date:ws({formats:Oh,defaultWidth:"full"}),time:ws({formats:Fh,defaultWidth:"full"}),dateTime:ws({formats:Uh,defaultWidth:"full"})},Wh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_h=function(t,s,n,r){return Wh[t]};function Xe(e){return function(t,s){var n=s!=null&&s.context?String(s.context):"standalone",r;if(n==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=s!=null&&s.width?String(s.width):o;r=e.formattingValues[i]||e.formattingValues[o]}else{var l=e.defaultWidth,c=s!=null&&s.width?String(s.width):e.defaultWidth;r=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return r[d]}}var $h={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hh={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yh={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qh={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xh=function(t,s){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Qh={ordinalNumber:Xh,era:Xe({values:$h,defaultWidth:"wide"}),quarter:Xe({values:Hh,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Xe({values:Yh,defaultWidth:"wide"}),day:Xe({values:qh,defaultWidth:"wide"}),dayPeriod:Xe({values:Kh,defaultWidth:"wide",formattingValues:Gh,defaultFormattingWidth:"wide"})};function Qe(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=s.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(r);if(!o)return null;var i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Jh(l,function(m){return m.test(i)}):Zh(l,function(m){return m.test(i)}),d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;var u=t.slice(i.length);return{value:d,rest:u}}}function Zh(e,t){for(var s in e)if(e.hasOwnProperty(s)&&t(e[s]))return s}function Jh(e,t){for(var s=0;s<e.length;s++)if(t(e[s]))return s}function ef(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var r=n[0],o=t.match(e.parsePattern);if(!o)return null;var i=e.valueCallback?e.valueCallback(o[0]):o[0];i=s.valueCallback?s.valueCallback(i):i;var l=t.slice(r.length);return{value:i,rest:l}}}var tf=/^(\d+)(th|st|nd|rd)?/i,sf=/\d+/i,nf={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rf={any:[/^b/i,/^(a|c)/i]},af={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},of={any:[/1/i,/2/i,/3/i,/4/i]},lf={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cf={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},df={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uf={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mf={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hf={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ff={ordinalNumber:ef({matchPattern:tf,parsePattern:sf,valueCallback:function(t){return parseInt(t,10)}}),era:Qe({matchPatterns:nf,defaultMatchWidth:"wide",parsePatterns:rf,defaultParseWidth:"any"}),quarter:Qe({matchPatterns:af,defaultMatchWidth:"wide",parsePatterns:of,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Qe({matchPatterns:lf,defaultMatchWidth:"wide",parsePatterns:cf,defaultParseWidth:"any"}),day:Qe({matchPatterns:df,defaultMatchWidth:"wide",parsePatterns:uf,defaultParseWidth:"any"}),dayPeriod:Qe({matchPatterns:mf,defaultMatchWidth:"any",parsePatterns:hf,defaultParseWidth:"any"})},pf={code:"en-US",formatDistance:Bh,formatLong:zh,formatRelative:_h,localize:Qh,match:ff,options:{weekStartsOn:0,firstWeekContainsDate:1}},gf=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xf=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yf=/^'([^]*?)'?$/,vf=/''/g,bf=/[a-zA-Z]/;function js(e,t,s){var n,r,o,i,l,c,d,u,m,h,f,x,y,v;q(2,arguments);var b=String(t),j=ns(),g=(n=(r=void 0)!==null&&r!==void 0?r:j.locale)!==null&&n!==void 0?n:pf,T=je((o=(i=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:j.firstWeekContainsDate)!==null&&i!==void 0?i:(d=j.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=je((m=(h=(f=(x=void 0)!==null&&x!==void 0?x:void 0)!==null&&f!==void 0?f:j.weekStartsOn)!==null&&h!==void 0?h:(y=j.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&m!==void 0?m:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!g.localize)throw new RangeError("locale must contain localize property");if(!g.formatLong)throw new RangeError("locale must contain formatLong property");var P=ae(e);if(!vh(P))throw new RangeError("Invalid time value");var B=gh(P),D=bh(P,B),z={firstWeekContainsDate:T,weekStartsOn:w,locale:g,_originalDate:P},G=b.match(xf).map(function(W){var Z=W[0];if(Z==="p"||Z==="P"){var A=Dh[Z];return A(W,g.formatLong)}return W}).join("").match(gf).map(function(W){if(W==="''")return"'";var Z=W[0];if(Z==="'")return wf(W);var A=Ah[Z];if(A)return Lh(W)&&ra(W,t,String(e)),Rh(W)&&ra(W,t,String(e)),A(D,W,g.localize,z);if(Z.match(bf))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");return W}).join("");return G}function wf(e){var t=e.match(yf);return t?t[1].replace(vf,"'"):e}function Ts(e,t){var s;q(1,arguments);var n=je((s=void 0)!==null&&s!==void 0?s:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var r=Sf(e),o;if(r.date){var i=Nf(r.date,n);o=Cf(i.restDateString,i.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var l=o.getTime(),c=0,d;if(r.time&&(c=Mf(r.time),isNaN(c)))return new Date(NaN);if(r.timezone){if(d=Af(r.timezone),isNaN(d))return new Date(NaN)}else{var u=new Date(l+c),m=new Date(0);return m.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),m.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),m}return new Date(l+c+d)}var At={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jf=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Tf=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kf=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Sf(e){var t={},s=e.split(At.dateTimeDelimiter),n;if(s.length>2)return t;if(/:/.test(s[0])?n=s[0]:(t.date=s[0],n=s[1],At.timeZoneDelimiter.test(t.date)&&(t.date=e.split(At.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var r=At.timezone.exec(n);r?(t.time=n.replace(r[1],""),t.timezone=r[1]):t.time=n}return t}function Nf(e,t){var s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(s);if(!n)return{year:NaN,restDateString:""};var r=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?r:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function Cf(e,t){if(t===null)return new Date(NaN);var s=e.match(jf);if(!s)return new Date(NaN);var n=!!s[4],r=Ze(s[1]),o=Ze(s[2])-1,i=Ze(s[3]),l=Ze(s[4]),c=Ze(s[5])-1;if(n)return Rf(t,l,c)?Pf(t,l,c):new Date(NaN);var d=new Date(0);return!Ef(t,o,i)||!Vf(t,r)?new Date(NaN):(d.setUTCFullYear(t,o,Math.max(r,i)),d)}function Ze(e){return e?parseInt(e):1}function Mf(e){var t=e.match(Tf);if(!t)return NaN;var s=ks(t[1]),n=ks(t[2]),r=ks(t[3]);return Lf(s,n,r)?s*Ji+n*Zi+r*1e3:NaN}function ks(e){return e&&parseFloat(e.replace(",","."))||0}function Af(e){if(e==="Z")return 0;var t=e.match(kf);if(!t)return 0;var s=t[1]==="+"?-1:1,n=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return If(n,r)?s*(n*Ji+r*Zi):NaN}function Pf(e,t,s){var n=new Date(0);n.setUTCFullYear(e,0,4);var r=n.getUTCDay()||7,o=(t-1)*7+s+1-r;return n.setUTCDate(n.getUTCDate()+o),n}var Df=[31,null,31,30,31,30,31,31,30,31,30,31];function no(e){return e%400===0||e%4===0&&e%100!==0}function Ef(e,t,s){return t>=0&&t<=11&&s>=1&&s<=(Df[t]||(no(e)?29:28))}function Vf(e,t){return t>=1&&t<=(no(e)?366:365)}function Rf(e,t,s){return t>=1&&t<=53&&s>=0&&s<=6}function Lf(e,t,s){return e===24?t===0&&s===0:s>=0&&s<60&&t>=0&&t<60&&e>=0&&e<25}function If(e,t){return t>=0&&t<=59}const Bf=()=>{const[e,t]=p.useState(new Date),[s,n]=p.useState([]);p.useEffect(()=>{const d=()=>{const m=localStorage.getItem("busLogs");if(m)try{const f=JSON.parse(m).sort((x,y)=>new Date(y.timestamp).getTime()-new Date(x.timestamp).getTime());n(f)}catch(h){console.error("Error parsing logs:",h)}};d();const u=setInterval(d,3e3);return()=>clearInterval(u)},[]);const r=s.filter(d=>xh(Ts(d.timestamp),e)),o=r.reduce((d,u)=>(d[u.busId]||(d[u.busId]=[]),d[u.busId].push(u),d),{}),i=r.filter(d=>d.type==="entry").length,l=r.filter(d=>d.type==="exit").length,c=new Set(r.map(d=>d.busId)).size;return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center",children:[a.jsx(qi,{size:24,className:"mr-2"}),"Security Logs Calendar"]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Select Date"}),a.jsx("input",{type:"date",value:js(e,"yyyy-MM-dd"),onChange:d=>t(Ts(d.target.value)),className:"w-full md:w-auto px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Of,{className:"text-blue-500 dark:text-blue-400 mr-2"}),a.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Buses"})]}),a.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100 mt-1",children:c})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(mt,{size:20,className:"text-green-500 dark:text-green-400 mr-2"}),a.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Entries"})]}),a.jsx("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100 mt-1",children:i})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ve,{size:20,className:"text-red-500 dark:text-red-400 mr-2"}),a.jsx("span",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Exits"})]}),a.jsx("p",{className:"text-2xl font-bold text-red-900 dark:text-red-100 mt-1",children:l})]})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[a.jsx(ts,{size:20,className:"mr-2"}),"Activity Logs for ",js(e,"MMMM d, yyyy")]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Object.keys(o).length>0?Object.entries(o).map(([d,u])=>a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-700 rounded-lg p-4 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("h4",{className:"font-bold text-lg",children:["Bus #",d]}),a.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[u.length," activities"]})]}),a.jsx("div",{className:"space-y-2",children:u.map(m=>a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-100 dark:border-slate-600 last:border-0",children:[a.jsxs("div",{className:"flex items-center",children:[m.type==="entry"?a.jsx(mt,{size:16,className:"text-green-500 dark:text-green-400 mr-2"}):a.jsx(Ve,{size:16,className:"text-red-500 dark:text-red-400 mr-2"}),a.jsx("span",{className:`font-medium ${m.type==="entry"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:m.type==="entry"?"Entry":"Exit"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:js(Ts(m.timestamp),"h:mm a")}),a.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:["by ",m.recordedBy]})]})]},m.id))})]},d)):a.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"No logs found for this date"})})]}),a.jsxs("div",{className:"mt-6 bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[a.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[a.jsx(Gi,{size:20,className:"mr-2"}),"Daily Summary"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-green-700 dark:text-green-300 mb-2",children:"Bus Entries"}),a.jsx("p",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:i}),a.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:"Total entries today"})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-red-700 dark:text-red-300 mb-2",children:"Bus Exits"}),a.jsx("p",{className:"text-3xl font-bold text-red-900 dark:text-red-100",children:l}),a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:"Total exits today"})]})]})]})]})})},Of=({className:e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 ${e}`,viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),a.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1v-1h4.05a2.5 2.5 0 014.9 0H20a1 1 0 001-1v-4a1 1 0 00-.293-.707l-4-4A1 1 0 0016 4H3z"})]}),Ff=()=>{const[e,t]=p.useState([]),[s,n]=p.useState([]),[r,o]=p.useState("all"),[i,l]=p.useState("");p.useEffect(()=>{const u=()=>{const h=localStorage.getItem("busLogs");if(h)try{const x=JSON.parse(h).sort((y,v)=>new Date(v.timestamp).getTime()-new Date(y.timestamp).getTime());t(x)}catch(f){console.error("Error parsing logs:",f)}};u();const m=setInterval(u,3e3);return()=>clearInterval(m)},[]),p.useEffect(()=>{let u=[...e];r!=="all"&&(u=u.filter(m=>m.type===r)),i&&(u=u.filter(m=>new Date(m.timestamp).toISOString().split("T")[0]===i)),u.sort((m,h)=>new Date(h.timestamp).getTime()-new Date(m.timestamp).getTime()),n(u)},[e,r,i]);const c=u=>new Date(u).toLocaleString("en-US",{hour12:!0,month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}),d=()=>{const u=e.map(m=>new Date(m.timestamp).toISOString().split("T")[0]);return[...new Set(u)].sort((m,h)=>h.localeCompare(m))};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Security Logs"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Bus entry and exit records"})]}),a.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Filter:"}),a.jsxs("div",{className:"flex rounded-md shadow-sm",children:[a.jsx("button",{onClick:()=>o("all"),className:`px-3 py-1 text-sm font-medium rounded-l-md ${r==="all"?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"All"}),a.jsx("button",{onClick:()=>o("entry"),className:`px-3 py-1 text-sm font-medium ${r==="entry"?"bg-green-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Entry"}),a.jsx("button",{onClick:()=>o("exit"),className:`px-3 py-1 text-sm font-medium rounded-r-md ${r==="exit"?"bg-red-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Exit"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qi,{size:16,className:"text-slate-500 dark:text-slate-400"}),a.jsxs("select",{value:i,onChange:u=>l(u.target.value),className:"text-sm rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-2 py-1",children:[a.jsx("option",{value:"",children:"All Dates"}),d().map(u=>a.jsx("option",{value:u,children:new Date(u).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},u))]})]})]}),a.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:a.jsxs("h4",{className:"text-md font-medium text-green-600 dark:text-green-400 flex items-center gap-2",children:[a.jsx(mt,{size:16}),"Entry Logs",a.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 px-2 py-1 rounded-full ml-2",children:s.filter(u=>u.type==="entry").length})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"inline-block min-w-full align-middle",children:s.filter(u=>u.type==="entry").length===0?a.jsx("div",{className:"text-center py-4 text-slate-500 dark:text-slate-400",children:a.jsx("p",{children:"No entry logs found"})}):a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Bus"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Recorded By"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:s.filter(u=>u.type==="entry").map(u=>a.jsxs(N.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:a.jsxs("span",{className:"text-green-600 dark:text-green-400 font-bold",children:["#",u.busId]})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm font-medium",children:["Bus ",u.busId]})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:c(u.timestamp)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:u.recordedBy})]},u.id))})]})})}),a.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:a.jsxs("h4",{className:"text-md font-medium text-red-600 dark:text-red-400 flex items-center gap-2",children:[a.jsx(Ve,{size:16}),"Exit Logs",a.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 px-2 py-1 rounded-full ml-2",children:s.filter(u=>u.type==="exit").length})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"inline-block min-w-full align-middle",children:s.filter(u=>u.type==="exit").length===0?a.jsx("div",{className:"text-center py-4 text-slate-500 dark:text-slate-400",children:a.jsx("p",{children:"No exit logs found"})}):a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Bus"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Recorded By"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:s.filter(u=>u.type==="exit").map(u=>a.jsxs(N.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:a.jsxs("span",{className:"text-red-600 dark:text-red-400 font-bold",children:["#",u.busId]})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm font-medium",children:["Bus ",u.busId]})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:c(u.timestamp)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:u.recordedBy})]},u.id))})]})})})]})})},Uf=()=>{var j;const e=Te(),{buses:t,firebaseConnected:s,firebaseError:n}=Ye(),[r,o]=p.useState("dashboard"),[i,l]=p.useState(!1),[c,d]=p.useState([]);p.useEffect(()=>{const g=()=>{const w=localStorage.getItem("busLogs");if(w)try{const B=JSON.parse(w).sort((D,z)=>new Date(z.timestamp).getTime()-new Date(D.timestamp).getTime());d(B)}catch(P){console.error("Error parsing logs:",P)}};g();const T=setInterval(g,1e4);return()=>clearInterval(T)},[]);const u=()=>{e("/")},m=[{id:"dashboard",label:"Dashboard",icon:Qm},{id:"map",label:"Live Tracking",icon:Zr},{id:"logs",label:"Security Logs",icon:Qr}],h=Object.keys(t).length,f=Object.values(t).filter(g=>g.currentStopIndex>0).length,x=Object.values(t).reduce((g,T)=>g+T.route.length,0),y=Object.values(t).reduce((g,T)=>g+(T.studentCount||0),0),v=[{title:"Total Buses",value:h,icon:oe,color:"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400",description:"All operational buses"},{title:"Active Buses",value:f,icon:oe,color:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400",description:"Currently running buses"},{title:"Total Stops",value:x,icon:Ki,color:"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400",description:"Across all routes"},{title:"Students",value:y,icon:Gi,color:"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400",description:"Currently on buses"}],b=()=>{switch(r){case"dashboard":return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:v.map((g,T)=>{const w=g.icon;return a.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:T*.1},className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-6 border border-slate-100 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:g.title}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white mt-2",children:g.value}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:g.description})]}),a.jsx("div",{className:`p-3 rounded-lg ${g.color}`,children:a.jsx(w,{className:"h-6 w-6"})})]})},g.title)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-6 border border-slate-100 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl font-semibold mb-5",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>o("map"),className:"flex flex-col items-center justify-center p-6 bg-slate-50 dark:bg-slate-700 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors",children:[a.jsx(Zr,{size:24,className:"text-slate-600 dark:text-slate-400 mb-3"}),a.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:"Live Tracking"})]}),a.jsxs("button",{onClick:()=>o("logs"),className:"flex flex-col items-center justify-center p-6 bg-slate-50 dark:bg-slate-700 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors",children:[a.jsx(Qr,{size:24,className:"text-slate-600 dark:text-slate-400 mb-3"}),a.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:"Security Logs"})]})]})]}),a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-6 border border-slate-100 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl font-semibold mb-5",children:"System Status"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center p-4 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center mr-4",children:a.jsx(Ks,{size:20,className:"text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Connection"}),a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:s?"Connected":"Disconnected"})]})]}),a.jsxs("div",{className:"flex items-center p-4 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center mr-4",children:a.jsx(oe,{size:20,className:"text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Active Buses"}),a.jsxs("p",{className:"font-medium text-slate-900 dark:text-white",children:[f," of ",h," Operational"]})]})]}),a.jsxs("div",{className:"flex items-center p-4 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center mr-4",children:a.jsx(ht,{size:20,className:"text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Security"}),a.jsxs("p",{className:"font-medium text-slate-900 dark:text-white",children:["Monitoring ",c.length," Logs"]})]})]})]})]})]})]});case"map":return a.jsx(hh,{});case"logs":return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(Ff,{}),a.jsx(Bf,{})]});default:return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:v.map((g,T)=>{const w=g.icon;return a.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:T*.1},className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-6 border border-slate-100 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:g.title}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white mt-2",children:g.value}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:g.description})]}),a.jsx("div",{className:`p-3 rounded-lg ${g.color}`,children:a.jsx(w,{className:"h-6 w-6"})})]})},g.title)})})}};return a.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[a.jsx("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10",children:a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>l(!i),className:"md:hidden mr-4 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700",children:i?a.jsx(rh,{size:20}):a.jsx(Zm,{size:20})}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded-lg mr-3",children:a.jsx(oe,{size:20,className:"text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Admin Dashboard"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Bus Tracking System"})]})]})]}),a.jsxs("button",{onClick:u,className:"flex items-center text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700",children:[a.jsx(Ve,{size:16,className:"mr-2"}),"Logout"]})]})})}),a.jsx("div",{className:"px-6 pt-6",children:a.jsx("div",{className:`mb-6 flex items-center p-4 rounded-lg ${n?"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800":s?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-800":"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800"}`,children:n?a.jsxs(a.Fragment,{children:[a.jsx(Yi,{size:16,className:"mr-3"}),a.jsxs("span",{className:"font-medium text-sm",children:["Firebase Error: ",n]})]}):s?a.jsxs(a.Fragment,{children:[a.jsx(Ks,{size:16,className:"mr-3"}),a.jsx("span",{className:"font-medium text-sm",children:"Connected to real-time data system"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Xi,{size:16,className:"mr-3"}),a.jsx("span",{className:"font-medium text-sm",children:"Data connection failed"})]})})}),a.jsxs("div",{className:"flex",children:[a.jsx("aside",{className:"hidden md:block w-64 flex-shrink-0",children:a.jsxs("div",{className:"sticky top-24 m-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded-lg mr-3",children:a.jsx(ht,{size:16,className:"text-slate-600 dark:text-slate-400"})}),a.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Admin Panel"})]}),a.jsx("nav",{className:"space-y-1",children:m.map(g=>{const T=g.icon;return a.jsxs("button",{onClick:()=>o(g.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${r===g.id?"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[a.jsx(T,{size:16}),a.jsx("span",{children:g.label})]},g.id)})})]})}),a.jsxs("main",{className:"flex-1 px-6 pb-8",children:[a.jsx(en,{children:i&&a.jsx(N.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"md:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>l(!1),children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 w-64 h-full p-4 shadow-xl",onClick:g=>g.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center mb-6 pt-4",children:[a.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded-lg mr-3",children:a.jsx(oe,{size:16,className:"text-slate-600 dark:text-slate-400"})}),a.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Admin Panel"})]}),a.jsx("nav",{className:"space-y-1",children:m.map(g=>{const T=g.icon;return a.jsxs("button",{onClick:()=>{o(g.id),l(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${r===g.id?"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[a.jsx(T,{size:16}),a.jsx("span",{children:g.label})]},g.id)})})]})})}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-6 border border-slate-100 dark:border-slate-700",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h2",{className:"text-xl font-semibold text-slate-800 dark:text-white",children:(j=m.find(g=>g.id===r))==null?void 0:j.label})}),b()]})]})]}),a.jsx("footer",{className:"py-6 text-center text-xs text-slate-500 dark:text-slate-400 border-t border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"px-6",children:[a.jsxs("p",{children:["Made possible by ",a.jsx("a",{href:"https://doutly.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Doutly"})," â€” Where Curiosity Meets Opportunity"]}),a.jsx("p",{className:"text-red-500 mt-1",children:"CSE C Sec Batch 23-24"}),a.jsx("p",{className:"mt-1",children:"."})]})})]})},zf=()=>{const e=Te(),{user:t}=pt(),{buses:s,firebaseConnected:n,firebaseError:r}=Ye(),[o,i]=p.useState([]),[l,c]=p.useState("entry"),[d,u]=p.useState("all"),[m,h]=p.useState("");p.useEffect(()=>{t||sessionStorage.getItem("securityLogin")==="true"||e("/security-login")},[t,e]);const f=Object.keys(s).map(Number).sort((g,T)=>g-T);p.useEffect(()=>{const g=()=>{const w=localStorage.getItem("busLogs");if(w)try{i(JSON.parse(w))}catch(P){console.error("Error parsing logs:",P)}};g();const T=setInterval(g,3e3);return()=>clearInterval(T)},[]);const x=g=>{const w=[{id:Date.now().toString(),busId:g,timestamp:new Date().toISOString(),type:l,recordedBy:(t==null?void 0:t.email)||"Security Guard"},...o];i(w),localStorage.setItem("busLogs",JSON.stringify(w))},y=g=>new Date(g).toLocaleString("en-US",{hour12:!0,month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}),v=()=>{sessionStorage.removeItem("securityLogin"),e("/")},b=o.filter(g=>d!=="all"&&g.type!==d?!1:m?new Date(g.timestamp).toISOString().split("T")[0]===m:!0),j=()=>{const g=o.map(T=>new Date(T.timestamp).toISOString().split("T")[0]);return[...new Set(g)].sort((T,w)=>w.localeCompare(T))};return!t&&sessionStorage.getItem("securityLogin")!=="true"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-slate-400"})}):a.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[a.jsx("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10",children:a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded-lg mr-3",children:a.jsx(oe,{size:20,className:"text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Security Dashboard"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Bus Entry/Exit Tracking"})]})]}),a.jsxs("button",{onClick:v,className:"flex items-center text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700",children:[a.jsx(Ve,{size:16,className:"mr-2"}),"Logout"]})]})})}),a.jsx("main",{className:"px-6 pb-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-6 border border-slate-100 dark:border-slate-700",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Record Bus Movement"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Log Type"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>c("entry"),className:`py-4 px-4 rounded-lg transition-colors flex flex-col items-center justify-center ${l==="entry"?"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600":"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[a.jsx(mt,{size:20,className:"text-green-600 dark:text-green-400 mb-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Bus Entry"})]}),a.jsxs("button",{onClick:()=>c("exit"),className:`py-4 px-4 rounded-lg transition-colors flex flex-col items-center justify-center ${l==="exit"?"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600":"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[a.jsx(Ve,{size:20,className:"text-red-600 dark:text-red-400 mb-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Bus Exit"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Select Bus"}),a.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 max-h-60 overflow-y-auto p-2",children:f.map(g=>a.jsx("button",{onClick:()=>x(g),className:"aspect-square flex items-center justify-center text-sm font-medium rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:g},g))})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-6 border border-slate-100 dark:border-slate-700",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Recent Logs"}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-3 sm:mt-0",children:[a.jsxs("select",{value:d,onChange:g=>u(g.target.value),className:"text-sm rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white px-3 py-2",children:[a.jsx("option",{value:"all",children:"All Logs"}),a.jsx("option",{value:"entry",children:"Entry Only"}),a.jsx("option",{value:"exit",children:"Exit Only"})]}),a.jsxs("select",{value:m,onChange:g=>h(g.target.value),className:"text-sm rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white px-3 py-2",children:[a.jsx("option",{value:"",children:"All Dates"}),j().map(g=>a.jsx("option",{value:g,children:new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},g))]})]})]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:b.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ts,{size:48,className:"mx-auto text-slate-300 dark:text-slate-600 mb-4"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No logs recorded yet"})]}):b.map(g=>a.jsx("div",{className:`p-4 rounded-lg border ${g.type==="entry"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}`,children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center",children:[g.type==="entry"?a.jsx(mt,{size:16,className:"text-green-600 dark:text-green-400 mr-2"}):a.jsx(Ve,{size:16,className:"text-red-600 dark:text-red-400 mr-2"}),a.jsxs("span",{className:`font-medium ${g.type==="entry"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["Bus #",g.busId," ",g.type==="entry"?"Entered":"Exited"]})]}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Recorded by ",g.recordedBy]})]}),a.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 whitespace-nowrap",children:y(g.timestamp)})]})},g.id))})]})})]})}),a.jsx("footer",{className:"py-6 text-center text-sm text-slate-500 dark:text-slate-400 border-t border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"px-6",children:[a.jsxs("p",{children:["ðŸ“š Made possible by ",a.jsx("a",{href:"https://doutly.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Doutly"})," â€” Where Curiosity Meets ðŸ’° Opportunity"]}),a.jsx("p",{className:"text-red-500 mt-1",children:"CSE C Sec Batch 23-24"}),a.jsx("p",{className:"mt-1",children:"."})]})})]})},Wf=["admin@ku.com","tgmanikanta11@gmail.com",Ms.email],_f=Je.email,Ss=({children:e,adminOnly:t=!1,securityOnly:s=!1})=>{const{user:n,loading:r}=pt();if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(s&&!n)return sessionStorage.getItem("securityLogin")==="true"?(sessionStorage.removeItem("securityLogin"),a.jsx(a.Fragment,{children:e})):a.jsx(Ie,{to:"/security-login"});if(!n)return a.jsx(Ie,{to:"/driver-login"});const o=n.email&&n.email.toLowerCase()===_f.toLowerCase();return s?o?a.jsx(a.Fragment,{children:e}):a.jsx(Ie,{to:"/"}):t&&!Wf.includes(n.email||"")?o?a.jsx(Ie,{to:"/security"}):a.jsx(Ie,{to:"/"}):!t&&!s&&o?a.jsx(Ie,{to:"/security"}):a.jsx(a.Fragment,{children:e})},$f="/";function Hf(){return a.jsx(jl,{children:a.jsx(wl,{children:a.jsx(uo,{basename:$f,children:a.jsxs(mo,{children:[a.jsx(ue,{path:"/",element:a.jsx(Jr,{})}),a.jsx(ue,{path:"/driver-login",element:a.jsx(ah,{})}),a.jsx(ue,{path:"/admin-login",element:a.jsx(ih,{})}),a.jsx(ue,{path:"/security-login",element:a.jsx(oh,{})}),a.jsx(ue,{path:"/student-dashboard",element:a.jsx(ch,{})}),a.jsx(ue,{path:"/driver-dashboard/:busId",element:a.jsx(Ss,{children:a.jsx(mh,{})})}),a.jsx(ue,{path:"/admin/*",element:a.jsx(Ss,{adminOnly:!0,children:a.jsx(Uf,{})})}),a.jsx(ue,{path:"/security",element:a.jsx(Ss,{securityOnly:!0,children:a.jsx(zf,{})})}),a.jsx(ue,{path:"*",element:a.jsx(Jr,{})})]})})})})}function Yf(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})})}Yf();oa(document.getElementById("root")).render(a.jsxs(p.StrictMode,{children:[a.jsx(Hf,{}),a.jsx(vl,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]}));
